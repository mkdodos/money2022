(this["webpackJsonpsocial-cool"]=this["webpackJsonpsocial-cool"]||[]).push([[0],{226:function(e,t,n){},227:function(e,t,n){},230:function(e,t,n){"use strict";n.r(t);var c=n(76),a=n.n(c),r=n(1),i=n.n(r),l=n(20),o=n(33),s=n(7),j=n(249),d=n(113),b=n(58),u=n(17),O=n(112),h=(n(231),n(194),n(232),O.a.initializeApp({apiKey:"AIzaSyDUSJ5yzHvTCCSQTuONsPtOBGodjamReHc",authDomain:"money2022-173b9.firebaseapp.com",projectId:"money2022-173b9",storageBucket:"money2022-173b9.appspot.com",messagingSenderId:"944583877759",appId:"1:944583877759:web:0fd8a43af8a727a76c0b4a"})),x=O.a.firestore(),f=O.a.storage(),p=(O.a.initializeApp({apiKey:"AIzaSyBKVsNm8RP9VKYBgEwmyRQsitx9dncLuaI",authDomain:"social-cool-f16ba.firebaseapp.com",projectId:"social-cool-f16ba",storageBucket:"social-cool-f16ba.appspot.com",messagingSenderId:"578558980743",appId:"1:578558980743:web:4668ba80e8df3c24087e22"},"dada").firestore(),h.auth()),m=n(0),v=i.a.createContext();function g(){return Object(r.useContext)(v)}function C(e){var t=e.children,n=Object(r.useState)(),c=Object(s.a)(n,2),a=c[0],i=c[1],l=Object(r.useState)(!0),o=Object(s.a)(l,2),j=o[0],d=o[1];Object(r.useEffect)((function(){return p.onAuthStateChanged((function(e){i(e),d(!1)}))}),[]);var b={currentUser:a,login:function(e,t){return p.signInWithEmailAndPassword(e,t)},signup:function(e,t){return p.createUserWithEmailAndPassword(e,t)},logout:function(){return p.signOut()},resetPassword:function(e){return p.sendPasswordResetEmail(e)},updateEmail:function(e){return a.updateEmail(e)},updatePassword:function(e){return a.updatePassword(e)}};return Object(m.jsx)(v.Provider,{value:b,children:!j&&t})}var w=n(21);function y(){var e=i.a.useState(""),t=Object(s.a)(e,2),n=t[0],c=t[1],a=g(),r=a.currentUser,O=a.logout,h=Object(w.g)();function x(e,t){var n=t.name;c(n)}function f(){return(f=Object(o.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:h.push("/login"),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(m.jsxs)(j.a,{pointing:!0,secondary:!0,children:[Object(m.jsx)(d.a,{item:!0,icon:"setting",children:Object(m.jsxs)(d.a.Menu,{children:[Object(m.jsx)(d.a.Item,{as:u.b,to:"/accounts",name:"accounts",children:"\u5e33\u6236"}),Object(m.jsx)(d.a.Item,{as:u.b,to:"/cates",children:"\u985e\u5225"}),Object(m.jsx)(d.a.Divider,{}),Object(m.jsx)(d.a.Item,{as:u.b,to:"/stocks",children:"\u80a1\u7968"}),Object(m.jsx)(d.a.Item,{as:u.b,to:"/dashboard/query",children:"\u67e5\u8a62"})]})}),"mkdodos@gmail.com"==(null===r||void 0===r?void 0:r.email)&&Object(m.jsx)(j.a.Item,{as:u.b,to:"/mortgages",name:"mortgages",onClick:x,active:"mortgages"===n,children:"\u623f\u8cb8"}),Object(m.jsx)(j.a.Item,{as:u.b,to:"/dashboard",name:"dashboard",onClick:x,active:"dashboard"===n,children:"\u7d71\u8a08"}),Object(m.jsx)(j.a.Item,{as:u.b,to:"/school",name:"school",onClick:x,active:"school"===n,children:"\u5b78\u6821"}),Object(m.jsx)(j.a.Item,{as:u.b,to:"/balances",name:"balances",onClick:x,active:"balances"===n,children:"\u6536\u652f"}),Object(m.jsx)(j.a.Menu,{position:"right",children:r?Object(m.jsx)(j.a.Item,{name:"",onClick:function(){return f.apply(this,arguments)},children:Object(m.jsx)(b.a,{name:"sign-out"})}):Object(m.jsx)(j.a.Item,{name:"login",as:u.b,to:"/login",children:"Login"})})]})}var k=n(18),S=n(24),E=n(4),I=n(252),R=n(250),F=n(233),A=n(259),L=n(257),B=n(251);var H=function(e){return new Intl.NumberFormat("en-US",{currency:"USD"}).format(e)},D=n(104),P=n.n(D);function M(){var e=g().currentUser,t={name:"",prior:"",balance:""},n=i.a.useState([]),c=Object(s.a)(n,2),a=c[0],l=c[1],o=i.a.useState(t),j=Object(s.a)(o,2),d=j[0],b=j[1],u=i.a.useState(0),O=Object(s.a)(u,2),h=O[0],f=O[1],p=Object(r.useState)(-1),v=Object(s.a)(p,2),C=v[0],w=v[1],y=Object(r.useState)(!1),D=Object(s.a)(y,2),M=D[0],N=D[1],z=x.collection("accounts");function U(e){w(a.indexOf(e)),b(e),N(!0)}function T(e){b(Object(E.a)(Object(E.a)({},d),{},Object(k.a)({},e.target.name,e.target.value)))}return i.a.useEffect((function(){z.where("user","==",e.email).get().then((function(e){var t=0,n=e.docs.map((function(e){return t+=1*e.data().balance,Object(E.a)(Object(E.a)({},e.data()),{},{id:e.id,balance:parseInt(e.data().balance)})}));n=(n=P.a.sortBy(n,"balance")).slice().reverse(),l(n),console.log(t),f(t)}))}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(I.a,{open:M,closeIcon:!0,onClose:function(){N(!1)},children:[Object(m.jsx)(I.a.Header,{children:"\u7de8\u8f2f\u5e33\u6236"}),Object(m.jsx)(I.a.Content,{children:Object(m.jsxs)(R.a,{children:[Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"\u540d\u7a31"}),Object(m.jsx)("input",{name:"name",value:d.name,onChange:T})]}),Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"\u9806\u5e8f"}),Object(m.jsx)("input",{type:"number",name:"prior",value:d.prior,onChange:T})]}),Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"\u9918\u984d"}),Object(m.jsx)("input",{type:"number",name:"balance",value:d.balance,onChange:T})]})]})}),Object(m.jsxs)(I.a.Actions,{children:[Object(m.jsx)(F.a,{floated:"left",color:"red",onClick:function(){z.doc(d.id).delete(),l(a.filter((function(e){return e.id!==d.id}))),N(!1)},children:"Delete"}),Object(m.jsx)(F.a,{primary:!0,onClick:function(){var n=d.name,c=d.balance,r=d.prior;C>-1?z.doc(d.id).update({name:n,balance:c,prior:Number(r)}).then((function(){var e=a.slice();Object.assign(e[C],d),l(e),N(!1),b(t),console.log(d.id)})):z.add({name:n,balance:c,prior:r,user:e.email}).then((function(e){N(!1),b(t),l([].concat(Object(S.a)(a),[Object(E.a)(Object(E.a)({},d),{},{id:e.id})]))}))},children:"Save"})]})]}),Object(m.jsx)(A.a,{textAlign:"center",children:Object(m.jsx)(L.a,{inverted:!0,color:"red",children:Object(m.jsx)(L.a.Value,{children:H(h)})})}),Object(m.jsx)(F.a,{onClick:function(){w(-1),N(!0)},color:"olive",children:"ADD"}),Object(m.jsxs)(B.a,{unstackable:!0,children:[Object(m.jsx)(B.a.Header,{children:Object(m.jsx)(B.a.Row,{children:[{text:"\u540d\u7a31",value:"name",type:"string"},{text:"\u9806\u5e8f",value:"prior",type:"number"},{text:"\u9918\u984d",value:"balance",type:"number"}].map((function(e,t){return Object(m.jsx)(B.a.HeaderCell,{children:e.text},t)}))})}),Object(m.jsx)(B.a.Body,{children:a.map((function(e,t){return Object(m.jsxs)(B.a.Row,{onClick:function(){U(e)},children:[Object(m.jsx)(B.a.Cell,{children:e.name}),Object(m.jsx)(B.a.Cell,{children:e.prior}),Object(m.jsx)(B.a.Cell,{children:H(e.balance)})]},e.id)}))})]})]})}function N(e){var t=e.rows,n=e.schema;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(B.a,{unstackable:!0,children:[Object(m.jsx)(B.a.Header,{children:Object(m.jsxs)(B.a.Row,{children:[n.map((function(e,t){return Object(m.jsx)(B.a.HeaderCell,{children:e.text},t)})),Object(m.jsx)(B.a.HeaderCell,{children:"#"})]})}),Object(m.jsx)(B.a.Body,{children:t.map((function(e,t){return Object(m.jsxs)("tr",{children:[n.map((function(t,n){return Object(m.jsx)("td",{children:e[t.name]},n)})),Object(m.jsx)("td",{children:Object(m.jsx)(u.b,{to:"/cates/edit/".concat(e.id),children:"Edit"})})]},t)}))})]})})}function z(){var e=g().currentUser,t=Object(r.useState)([]),n=Object(s.a)(t,2),c=n[0],a=n[1];Object(r.useEffect)((function(){x.collection("cates").where("user","==",e.email).orderBy("prior").get().then((function(e){var t=e.docs.map((function(e){return Object(E.a)(Object(E.a)({},e.data()),{},{id:e.id})}));a(t)}))}),[]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u.b,{to:"/cates/insert",children:"\u65b0\u589e"}),Object(m.jsx)(N,{rows:c,schema:[{name:"name",text:"\u540d\u7a31",type:"text"},{name:"prior",text:"\u9806\u5e8f",type:"number"}]})]})}var U=n(55),T=n(56),W=n(108),q=n(109),G=n(260),V=function(e){Object(W.a)(n,e);var t=Object(q.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(T.a)(n,[{key:"render",value:function(){return Object(m.jsx)("button",{className:"square",onClick:this.props.onClick,children:this.props.value})}}]),n}(i.a.Component),Y=function(e){Object(W.a)(n,e);var t=Object(q.a)(n);function n(e){var c;return Object(U.a)(this,n),(c=t.call(this,e)).state={squares:Array(9).fill(null)},c}return Object(T.a)(n,[{key:"handleClick",value:function(e){var t=this.state.squares.slice();t[e]="X",this.setState({squares:t})}},{key:"renderSquare",value:function(e){var t=this;return Object(m.jsx)(V,{value:this.state.squares[e],onClick:function(){t.handleClick(e)}})}},{key:"render",value:function(){return Object(m.jsxs)(G.a,{children:[Object(m.jsxs)(G.a.Row,{children:[Object(m.jsx)(G.a.Column,{children:this.renderSquare(0)}),Object(m.jsx)(G.a.Column,{children:this.renderSquare(1)}),Object(m.jsx)(G.a.Column,{children:this.renderSquare(2)})]}),Object(m.jsxs)(G.a.Row,{children:[Object(m.jsx)(G.a.Column,{children:this.renderSquare(3)}),Object(m.jsx)(G.a.Column,{children:this.renderSquare(4)}),Object(m.jsx)(G.a.Column,{children:this.renderSquare(5)})]}),Object(m.jsxs)(G.a.Row,{children:[Object(m.jsx)(G.a.Column,{children:this.renderSquare(7)}),Object(m.jsx)(G.a.Column,{children:this.renderSquare(8)})]})]})}}]),n}(i.a.Component),X=n(38),J=n.n(X),Q=n(244),K=n(245),Z=n(261),$=n(110);function _(e){var t=e.cates,n=e.rows,c=e.rowsCopy,a=e.setRows,i=e.setItem,l=e.setItemCopy,o=e.setEditedIndex,j=e.setOpen,d=e.activeAccount,b=e.setIsIncome,u=(e.isIncome,e.setIsIncomeOrigin),O=e.setCate,h=e.setType,x=Object(r.useState)(""),f=Object(s.a)(x,2),p=f[0],v=f[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(G.a,{children:Object(m.jsxs)(G.a.Row,{columns:2,children:[Object(m.jsx)(G.a.Column,{children:Object(m.jsx)(Q.a,{name:"search",fluid:!0,value:p,onChange:function(e){v(e.target.value),a(c.filter((function(t){return t.title.toLowerCase().includes(e.target.value.toLowerCase())})))},placeholder:"Search..."})}),Object(m.jsx)(G.a.Column,{children:Object(m.jsx)(K.a,{selection:!0,fluid:!0,label:"\u985e\u5225",placeholder:"",options:t,onChange:function(e,t){console.log(t.value),a(c.filter((function(e){return e.cate===t.value})))}})})]})}),Object(m.jsx)(B.a,{unstackable:!0,children:Object(m.jsx)(B.a.Body,{children:n.map((function(e){var t;return Object(m.jsxs)(B.a.Row,{onClick:function(){!function(e){O(e.cate),h(e.type),b((function(t){var n={date:e.date,title:e.title,id:e.id};return e.income?(i(Object(E.a)(Object(E.a)({},n),{},{amt:e.income})),l(Object(E.a)(Object(E.a)({},n),{},{amt:e.income})),!0):(i(Object(E.a)(Object(E.a)({},n),{},{amt:e.expense})),l(Object(E.a)(Object(E.a)({},n),{},{amt:e.expense})),!1)})),u((function(){return!!e.income})),o(n.indexOf(e)),j(!0)}(e)},children:[Object(m.jsxs)(B.a.Cell,{children:[Object(m.jsx)(Z.a,{as:"h4",children:e.title}),Object(m.jsxs)("span",{children:[e.date," "]}),!d&&Object(m.jsx)($.a,{color:"teal",children:null===(t=e.account)||void 0===t?void 0:t.name}),e.cate&&Object(m.jsx)($.a,{children:e.cate})]}),Object(m.jsxs)(B.a.Cell,{textAlign:"right",children:[e.income?Object(m.jsx)($.a,{color:"teal",circular:!0,children:"\u5b58"}):Object(m.jsx)($.a,{color:"orange",circular:!0,children:"\u63d0"}),Object(m.jsx)("br",{}),"$ ",e.income?e.income:e.expense+""]})]},e.id)}))})})]})}var ee=function(e){var t=e.rows,n=e.setRows,c=e.rowsCopy,a=e.setRowsCopy,i=e.rowsAccount,l=e.setRowsAccount,o=e.item,d=e.setItem,b=e.editedIndex,u=e.defalutItem,O=e.setEditedIndex,h=e.open,f=e.setOpen,p=(e.setActiveAccount,e.activeAccount),v=e.itemCopy,C=e.isIncome,w=e.setIsIncome,y=e.isIncomeOrigin,A=e.cates,L=e.cate,B=e.type,H=e.setCate,D=e.setType,P=g().currentUser,M=Object(r.useState)(!1),N=Object(s.a)(M,2),z=N[0],U=N[1],T=function(e){console.log(o),d(Object(E.a)(Object(E.a)({},o),{},Object(k.a)({},e.target.name,e.target.value)))},W=x.collection("balances");function q(e){x.collection("accounts").doc(p.id).update({balance:e});var t=i.indexOf(p),n=i.slice();Object.assign(n[t],Object(E.a)(Object(E.a)({},p),{},{balance:e})),l(n)}function G(e,t){var n=t.name;console.log(o),w("income"===n)}return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(I.a,{open:h,closeIcon:!0,onClose:function(){f(!1)},children:[Object(m.jsxs)(I.a.Header,{children:["\u7de8\u8f2f\u8868\u55ae",y?"income":"expense"]}),Object(m.jsxs)(I.a.Content,{children:[Object(m.jsxs)(j.a,{fluid:!0,widths:2,pointing:!0,secondary:!0,children:[Object(m.jsx)(j.a.Item,{color:"teal",name:"income",active:C,onClick:G,children:"\u6536\u5165"}),Object(m.jsx)(j.a.Item,{color:"orange",name:"expense",active:!C,onClick:G,children:"\u652f\u51fa"})]}),Object(m.jsxs)(R.a,{children:[Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"\u65e5\u671f"}),Object(m.jsx)("input",{name:"date",type:"date",placeholder:"",value:o.date,onChange:T})]}),Object(m.jsx)(R.a.Select,{selection:!0,fluid:!0,label:"\u985e\u5225",placeholder:"",value:L,options:A,onChange:function(e,t){H(t.value)}}),Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"\u9805\u76ee"}),Object(m.jsx)("input",{name:"title",placeholder:"",value:o.title,onChange:T})]}),Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"\u91d1\u984d"}),Object(m.jsx)("input",{name:"amt",type:"number",placeholder:"",value:o.amt,onChange:T})]}),Object(m.jsx)(R.a.Select,{fluid:!0,label:"\u7d71\u8a08\u985e\u578b",value:B,options:[{key:"m",text:"\u4e00\u822c",value:"\u4e00\u822c"},{key:"f",text:"\u8f49\u5e33",value:"\u8f49\u5e33"},{key:"o",text:"\u6295\u8cc7",value:"\u6295\u8cc7"}],onChange:function(e,t){D(t.value)}})]})]}),Object(m.jsxs)(I.a.Actions,{children:[b>-1&&Object(m.jsx)(F.a,{loading:z,floated:"left",color:"red",onClick:function(){U(!0),W.doc(o.id).delete().then((function(){n(t.filter((function(e){return e.id!==o.id}))),a(c.filter((function(e){return e.id!==o.id}))),O(-1),d(u),f(!1),U(!1);var e=p.balance+1*o.amt;C&&(e=p.balance-1*o.amt),q(e)}))},children:"Delete"}),Object(m.jsx)(F.a,{loading:z,floated:"right",primary:!0,onClick:function(){if(-1==b){var e={date:o.date,title:o.title,user:P.email,account:p};L&&(e.cate=L),B&&(e.type=B),e=C?Object(E.a)(Object(E.a)({},e),{},{income:o.amt}):Object(E.a)(Object(E.a)({},e),{},{expense:o.amt}),U(!0),W.add(e).then((function(r){console.log(r.id);var i=Object(E.a)(Object(E.a)({},e),{},{id:r.id});n([i].concat(Object(S.a)(t))),a([i].concat(Object(S.a)(c))),U(!1),O(-1),d(u),f(!1);var l=p.balance-1*o.amt;C&&(l=p.balance+1*o.amt),q(l)}))}else{var r={date:o.date,title:o.title,user:P.email,account:p};L&&(r.cate=L),B&&(r.type=B),r=C?Object(E.a)(Object(E.a)({},r),{},{income:o.amt,expense:null}):Object(E.a)(Object(E.a)({},r),{},{expense:o.amt,income:null}),U(!0),W.doc(o.id).update(r).then((function(){var e=p.balance-1*o.amt+1*v.amt;C&&(e=1*p.balance+1*o.amt-1*v.amt),!y&&C&&(e=p.balance+1*o.amt+1*v.amt),y&&!C&&(e=p.balance-1*o.amt-1*v.amt),q(e);var c=t.slice();Object.assign(c[b],r),n(c),U(!1),O(-1),d(u),f(!1)}))}},children:"Save"})]})]})})},te=function(e){var t=e.rows,n=e.accountClick,c=e.activeAccount;g().currentUser;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(A.a.Group,{horizontal:!0,children:t.map((function(e,t){return Object(m.jsx)(A.a,{textAlign:"center",color:"teal",inverted:(null===c||void 0===c?void 0:c.name)===e.name,onClick:function(){n(e)},children:e.name},e.id)}))})})};var ne=function(){var e=g(),t=e.currentUser,n=(e.logout,Object(r.useState)(!1)),c=Object(s.a)(n,2),a=c[0],i=c[1],l=Object(r.useState)([]),o=Object(s.a)(l,2),j=o[0],d=o[1],b=Object(r.useState)([]),u=Object(s.a)(b,2),O=u[0],h=u[1],f=Object(r.useState)([]),p=Object(s.a)(f,2),v=p[0],C=p[1],w=Object(r.useState)(),y=Object(s.a)(w,2),k=y[0],S=y[1],I={date:(new Date).toISOString().slice(0,10),title:"",amt:""},R=Object(r.useState)(I),A=Object(s.a)(R,2),B=A[0],H=A[1],D=Object(r.useState)(I),P=Object(s.a)(D,2),M=P[0],N=P[1],z=Object(r.useState)(-1),U=Object(s.a)(z,2),T=U[0],W=U[1],q=Object(r.useState)(!1),V=Object(s.a)(q,2),Y=V[0],X=V[1],J=Object(r.useState)(!1),Q=Object(s.a)(J,2),K=Q[0],Z=Q[1],$=Object(r.useState)(),ne=Object(s.a)($,2),ce=ne[0],ae=ne[1],re=Object(r.useState)([]),ie=Object(s.a)(re,2),le=ie[0],oe=ie[1],se=Object(r.useState)(),je=Object(s.a)(se,2),de=je[0],be=je[1];Object(r.useEffect)((function(){var e=x.collection("cates").orderBy("prior");t&&(e=e.where("user","==",t.email)),e=e.get().then((function(e){var t=e.docs.map((function(e){var t=e.data();return{text:t.name,value:t.name,key:e.id}}));oe(t)}));var n=x.collection("balances").orderBy("date","desc").limit(300);t&&(n=n.where("user","==",null===t||void 0===t?void 0:t.email)),x.collection("accounts").where("user","==",t.email).orderBy("prior").limit(5).get().then((function(e){var t=e.docs.map((function(e){return console.log(e.data().name),Object(E.a)(Object(E.a)({},e.data()),{},{id:e.id})}));S(t[0]),C(t);var c=(new Date).getFullYear(),a=(new Date).getMonth()-1;a<10&&(a="0"+a),n.where("date",">","".concat(c,"-").concat(a)).get().then((function(e){var n=e.docs.map((function(e){return Object(E.a)(Object(E.a)({},e.data()),{},{id:e.id})}));h(n),d(n.filter((function(e){return e.account&&e.account.name==t[0].name})))}))}))}),[]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(G.a,{children:Object(m.jsx)(G.a.Row,{children:Object(m.jsx)(G.a.Column,{children:Object(m.jsx)(te,{rows:v,activeAccount:k,accountClick:function(e){S(e),d(O.filter((function(t){return t.account&&t.account.name==e.name})))}})})})}),k&&Object(m.jsx)(G.a,{columns:2,children:Object(m.jsxs)(G.a.Row,{children:[Object(m.jsx)(G.a.Column,{children:Object(m.jsx)(L.a,{horizontal:!0,children:Object(m.jsx)(L.a.Value,{children:null===k||void 0===k?void 0:k.balance})})}),Object(m.jsx)(G.a.Column,{verticalAlign:"middle",children:Object(m.jsx)(F.a,{onClick:function(){i(!0),H(I),W(-1)},floated:"right",color:"yellow",children:"ADD"})})]})}),Object(m.jsx)(G.a,{children:Object(m.jsx)(G.a.Row,{children:Object(m.jsx)(G.a.Column,{children:Object(m.jsx)(_,{setType:be,setCate:ae,cates:le,setOpen:i,rows:j,rowsCopy:O,setRows:d,item:B,setItem:H,setItemCopy:N,isIncome:Y,setIsIncome:X,isIncomeOrigin:K,setIsIncomeOrigin:Z,setEditedIndex:W,activeAccount:k})})})}),Object(m.jsx)(ee,{type:de,setType:be,cates:le,cate:ce,setCate:ae,isIncomeOrigin:K,setIsIncome:X,isIncome:Y,defalutItem:I,rows:j,setRows:d,setRowsCopy:h,rowsCopy:O,rowsAccount:v,setRowsAccount:C,item:B,setItem:H,editedIndex:T,setEditedIndex:W,open:a,setOpen:i,setActiveAccount:S,activeAccount:k,itemCopy:M})]})};function ce(){var e=g().currentUser,t=Object(w.g)(),n=Object(w.h)().id,c=Object(r.useState)({name:"",prior:""}),a=Object(s.a)(c,2),i=a[0],l=a[1];Object(r.useEffect)((function(){x.collection("cates").doc(n).get().then((function(e){e.exists?(l(e.data()),console.log("Document data:",e.data())):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))}),[]);var o=function(e){l(Object(E.a)(Object(E.a)({},i),{},Object(k.a)({},e.target.name,e.target.value)))};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(R.a,{onSubmit:function(){n?x.collection("cates").doc(n).update(Object(E.a)(Object(E.a)({},i),{},{prior:Number(i.prior)})).then((function(){t.push("/cates")})):x.collection("cates").add(Object(E.a)(Object(E.a)({},i),{},{prior:Number(i.prior),user:e.email})).then((function(){t.push("/cates")}))},children:[Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"\u540d\u7a31"}),Object(m.jsx)("input",{name:"name",placeholder:"",value:i.name,onChange:o})]}),Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"\u9806\u5e8f"}),Object(m.jsx)("input",{type:"number",name:"prior",placeholder:"",value:i.prior,onChange:o})]}),Object(m.jsx)(F.a,{type:"submit",primary:!0,children:"Save"})]})})}function ae(e){var t=e.defalutItem,n=e.schema,c=i.a.useState([]),a=Object(s.a)(c,2),r=a[0],l=a[1],o=i.a.useState(t),j=Object(s.a)(o,2),d=j[0],b=j[1],u=i.a.useState(-1),O=Object(s.a)(u,2),h=O[0],f=O[1],p=i.a.useState(!1),v=Object(s.a)(p,2),g=v[0],C=v[1],w=x.collection(e.collectionName);return i.a.useEffect((function(){w.get().then((function(e){var t=e.docs.map((function(e){return Object(E.a)(Object(E.a)({},e.data()),{},{id:e.id})}));l(t)}))}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(I.a,{open:g,closeIcon:!0,onClose:function(){return C(!1)},children:[Object(m.jsx)(I.a.Header,{children:"\u7de8\u8f2f\u8868\u55ae"}),Object(m.jsx)(I.a.Content,{children:Object(m.jsx)(R.a,{children:n.map((function(e,t){return Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:e.text}),Object(m.jsx)(Q.a,{placeholder:e.text,name:e.name,value:d[e.name],type:e.type,onChange:function(e){b(Object(E.a)(Object(E.a)({},d),{},Object(k.a)({},e.target.name,e.target.value)))}})]},t)}))})}),Object(m.jsxs)(I.a.Actions,{children:[Object(m.jsx)("button",{className:"ui button blue",onClick:function(){if(-1==h){var e=Object(E.a)(Object(E.a)({},d),{},{id:Date.now()});w.add(e),l([].concat(Object(S.a)(r),[e]))}else{w.doc(d.id).update(d);var n=r.slice();Object.assign(n[h],d),l(n),f(-1)}b(t),C(!1)},children:"\u5132\u5b58"}),-1!==h&&Object(m.jsx)("button",{className:"ui button red left floated",onClick:function(){if(confirm("\u78ba\u5b9a\u522a\u9664\u55ce?")){w.doc(d.id).delete();var e=r.filter((function(e){return e.id!==d.id}));l(e),C(!1)}},children:"\u522a\u9664"})]})]}),Object(m.jsx)("button",{className:"ui button",onClick:function(){C(!0),b(t),f(-1)},children:"\u65b0\u589e"}),Object(m.jsx)(re,{edit:function(e){C(!0),f(r.indexOf(e)),b(e)},schema:n,rows:r,dataRow:e.dataRow})]})}var re=function(e){Object(W.a)(n,e);var t=Object(q.a)(n);function n(e){return Object(U.a)(this,n),t.call(this,e)}return Object(T.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(B.a,{unstackable:!0,children:[Object(m.jsx)(B.a.Header,{children:Object(m.jsxs)(B.a.Row,{children:[this.props.schema.map((function(e,t){return Object(m.jsx)(B.a.HeaderCell,{children:e.text},t)})),Object(m.jsx)(B.a.HeaderCell,{children:"#"})]})}),Object(m.jsx)(B.a.Body,{children:this.props.rows.map((function(t,n){return Object(m.jsxs)("tr",{children:[e.props.dataRow?e.props.dataRow:e.props.schema.map((function(e,n){return Object(m.jsx)("td",{children:t[e.name]},n)})),Object(m.jsx)("td",{onClick:function(){return e.props.edit(t)},children:Object(m.jsx)("a",{href:"#",children:"\u7de8\u8f2f"})})]},n)}))})]})})}}]),n}(i.a.Component);function ie(){var e=[{name:"name",text:"\u540d\u7a31",type:"text"},{name:"qty",text:"\u80a1\u6578",type:"number"},{name:"price",text:"\u73fe\u50f9",type:"number"},{name:"cost",text:"\u6210\u672c",type:"number"}];e.map((function(e,t){return Object(m.jsx)("td",{children:"A"},t)}));return Object(m.jsx)(ae,{schema:e,defalutItem:{name:"",qty:"",price:"",cost:""},collectionName:"stocks"})}var le=Object(r.createContext)(),oe=function(e){var t=x.collection(e.collectionName);Object(r.useEffect)((function(){t.get().then((function(e){var t=e.docs.map((function(e){return Object(E.a)(Object(E.a)({},e.data()),{},{id:e.id})}));i(t)}))}),[]);var n=Object(r.useState)([]),c=Object(s.a)(n,2),a=c[0],i=c[1],l={name:"",price:""},o=Object(r.useState)(l),j=Object(s.a)(o,2),d=j[0],b=j[1],u=Object(r.useState)(-1),O=Object(s.a)(u,2),h=O[0],f=O[1],p=Object(r.useState)(!1),v=Object(s.a)(p,2),g=v[0],C=v[1];return Object(m.jsx)(le.Provider,{value:{books:a,editedBook:d,open:g,removeBook:function(e){t.doc(e).delete(),i(a.filter((function(t){return t.id!==e})))},editBook:function(e){b(e),f(a.indexOf(e)),C(!0)},updateBook:function(e){b(e)},saveBook:function(e){if(-1==h)t.add(e).then((function(t){i([].concat(Object(S.a)(a),[Object(E.a)(Object(E.a)({},e),{},{id:t.id})]))}));else{t.doc(e.id).update(e);var n=a.slice();Object.assign(n[h],e),i(n)}b(l),f(-1),C(!1)},openForm:function(){f(-1),b(l),C(!0)},closeForm:function(){f(-1),b(l),C(!1)}},children:e.children})},se=function(){var e=Object(r.useContext)(le),t=e.editBook,n=e.books,c=e.removeBook,a=e.openForm;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Z.a,{children:n.length}),Object(m.jsx)(F.a,{onClick:function(){a()},children:"ADD"}),Object(m.jsxs)(B.a,{unstackable:!0,children:[Object(m.jsx)(B.a.Header,{children:Object(m.jsxs)(B.a.Row,{children:[Object(m.jsx)(B.a.HeaderCell,{children:"\u66f8\u540d"}),Object(m.jsx)(B.a.HeaderCell,{children:"\u4f5c\u8005"}),Object(m.jsx)(B.a.HeaderCell,{children:"#"}),Object(m.jsx)(B.a.HeaderCell,{children:"#"})]})}),Object(m.jsx)(B.a.Body,{children:n.map((function(e){return Object(m.jsxs)(B.a.Row,{children:[Object(m.jsx)(B.a.Cell,{children:e.title}),Object(m.jsx)(B.a.Cell,{children:e.author}),Object(m.jsx)(B.a.Cell,{onClick:function(){c(e.id)},children:"Delete"}),Object(m.jsx)(B.a.Cell,{onClick:function(){t(e)},children:"Edit"})]},e.id)}))})]})]})},je=function(){var e=Object(r.useContext)(le),t=e.editBook,n=e.books,c=e.removeBook,a=e.openForm;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Z.a,{children:n.length}),Object(m.jsx)(F.a,{onClick:function(){console.log("open"),a()},children:"ADD"}),Object(m.jsxs)(B.a,{unstackable:!0,children:[Object(m.jsx)(B.a.Header,{children:Object(m.jsxs)(B.a.Row,{children:[Object(m.jsx)(B.a.HeaderCell,{children:"\u66f8\u540d"}),Object(m.jsx)(B.a.HeaderCell,{children:"\u4f5c\u8005"}),Object(m.jsx)(B.a.HeaderCell,{children:"Qty"}),Object(m.jsx)(B.a.HeaderCell,{children:"#"}),Object(m.jsx)(B.a.HeaderCell,{children:"#"})]})}),Object(m.jsx)(B.a.Body,{children:n.map((function(e){return Object(m.jsxs)(B.a.Row,{children:[Object(m.jsx)(B.a.Cell,{children:e.name}),Object(m.jsx)(B.a.Cell,{children:e.price}),Object(m.jsx)(B.a.Cell,{children:e.qty}),Object(m.jsx)(B.a.Cell,{onClick:function(){c(e.id)},children:"Delete"}),Object(m.jsx)(B.a.Cell,{onClick:function(){t(e)},children:"Edit"})]},e.id)}))})]})]})},de=function(){var e=Object(r.useContext)(le),t=e.editedBook,n=e.updateBook,c=e.saveBook,a=e.open,i=e.closeForm,l=Object(r.useState)(""),o=Object(s.a)(l,2),j=(o[0],o[1]),d=Object(r.useState)(""),b=Object(s.a)(d,2),u=(b[0],b[1]);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(I.a,{open:a,closeIcon:!0,onClose:i,children:[Object(m.jsx)(I.a.Header,{children:"\u7de8\u8f2f"}),Object(m.jsx)(I.a.Content,{children:Object(m.jsxs)(R.a,{children:[Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"Title"}),Object(m.jsx)(Q.a,{placeholder:"book title",name:"price",value:t.price,type:"text",onChange:function(e){n(Object(E.a)(Object(E.a)({},t),{},Object(k.a)({},e.target.name,e.target.value)))}})]}),Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"Author"}),Object(m.jsx)(Q.a,{placeholder:"book author",name:"author",value:t.author,type:"text",onChange:function(e){n(Object(E.a)(Object(E.a)({},t),{},Object(k.a)({},e.target.name,e.target.value)))}})]})]})}),Object(m.jsx)(I.a.Actions,{children:Object(m.jsx)(F.a,{onClick:function(){c(t),j(""),u("")},children:"Update"})})]})})};var be=function(){function e(){Object(U.a)(this,e)}return Object(T.a)(e,null,[{key:"getAllContacts",value:function(){var e=[];return x.collection("cates").get().then((function(t){t.docs.map((function(t){e.push(Object(E.a)({},t.data()))}))})),e}}]),e}();be.serverURL="http://localhost:9000";var ue=function(){var e=Object(r.useState)({loading:!1,contacts:[],errorMessage:""}),t=Object(s.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)((function(){c(Object(E.a)(Object(E.a)({},n),{},{loading:!1}));var e=be.getAllContacts();c(Object(E.a)(Object(E.a)({},n),{},{loading:!1,contacts:e})),console.log(e)}),[]);var a=n.contacts;return Object(m.jsx)("pre",{children:JSON.stringify(a)})},Oe=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ue,{}),Object(m.jsxs)(oe,{collectionName:"stocks",children:[Object(m.jsx)(de,{}),Object(m.jsx)(je,{})]}),Object(m.jsxs)(oe,{collectionName:"books",children:[Object(m.jsx)(de,{}),Object(m.jsx)(se,{})]})]})},he=function(){function e(){Object(U.a)(this,e)}return Object(T.a)(e,null,[{key:"getAllContacts",value:function(){var e="".concat(this.serverURL,"/contacts");return J.a.get(e)}},{key:"getContact",value:function(e){var t="".concat(this.serverURL,"/contacts/").concat(e);return J.a.get(t)}},{key:"AddContact",value:function(e){var t="".concat(this.serverURL,"/contacts");return J.a.post(t,e)}},{key:"UpdateContact",value:function(e){var t="".concat(this.serverURL,"/contacts/").concat(e.id);return J.a.put(t,e)}},{key:"DeleteContact",value:function(e){var t="".concat(this.serverURL,"/contacts/").concat(e);return J.a.delete(t)}}]),e}();he.serverURL="http://192.168.0.12:9000";var xe=n.p+"static/media/spin.0d8837f6.gif";function fe(){return Object(m.jsx)("div",{className:"ui basic segment",children:Object(m.jsx)("img",{src:xe,className:"ui centered medium image",style:{width:"100px"}})})}var pe=function(){var e=Object(r.useState)({loading:!1,contacts:[]}),t=Object(s.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)(Object(o.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Object(E.a)(Object(E.a)({},n),{},{loading:!0})),e.next=3,J.a.get("http://192.168.0.12:9000/contacts");case 3:t=e.sent,c(Object(E.a)(Object(E.a)({},n),{},{loading:!1,contacts:t.data}));case 5:case"end":return e.stop()}}),e)}))),[]);var a=n.contacts,i=n.loading;return Object(m.jsx)(m.Fragment,{children:i?Object(m.jsx)(fe,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(F.a,{children:Object(m.jsx)(u.b,{to:"/contacts/add",children:"ADD"})}),Object(m.jsxs)(B.a,{unstackable:!0,children:[Object(m.jsx)(B.a.Header,{children:Object(m.jsxs)(B.a.Row,{children:[Object(m.jsx)(B.a.HeaderCell,{children:"\u540d\u7a31"}),Object(m.jsx)(B.a.HeaderCell,{children:"\u91d1\u984d"}),Object(m.jsx)(B.a.HeaderCell,{children:"#"}),Object(m.jsx)(B.a.HeaderCell,{children:"#"})]})}),Object(m.jsx)(B.a.Body,{children:a.map((function(e){return Object(m.jsxs)(B.a.Row,{children:[Object(m.jsx)(B.a.Cell,{children:e.name}),Object(m.jsx)(B.a.Cell,{children:e.amt}),Object(m.jsx)(B.a.Cell,{children:Object(m.jsx)(u.b,{to:"/contacts/edit/".concat(e.id),children:"Edit"})}),Object(m.jsx)(B.a.Cell,{children:Object(m.jsx)(u.b,{to:"/contacts/view/".concat(e.id),children:"View"})})]},e.id)}))})]})]})})};function me(){var e=Object(w.h)().contactId;return Object(r.useEffect)(Object(o.a)(Object(l.a)().mark((function t(){var n;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,he.getContact(e);case 2:n=t.sent,console.log(n.data);case 4:case"end":return t.stop()}}),t)}))),[]),Object(m.jsx)("div",{children:e})}function ve(){var e=Object(w.g)(),t=Object(w.h)().contactId;Object(r.useEffect)(Object(o.a)(Object(l.a)().mark((function e(){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,he.getContact(t);case 4:n=e.sent,i(n.data);case 6:case"end":return e.stop()}}),e)}))),[]);var n=Object(r.useState)({name:"",amt:""}),c=Object(s.a)(n,2),a=c[0],i=c[1],j=function(e){i(Object(E.a)(Object(E.a)({},a),{},Object(k.a)({},e.target.name,e.target.value)))},d=function(){var n=Object(o.a)(Object(l.a)().mark((function n(){return Object(l.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=5;break}return n.next=3,he.UpdateContact(a);case 3:n.next=7;break;case 5:return n.next=7,he.AddContact(a);case 7:e.push("/contacts"),console.log("save");case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),b=function(){var n=Object(o.a)(Object(l.a)().mark((function n(){return Object(l.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=3;break}return n.next=3,he.DeleteContact(a.id);case 3:e.push("/contacts");case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[" ",Object(m.jsxs)(R.a,{onSubmit:d,children:[Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"\u540d\u7a31"}),Object(m.jsx)("input",{name:"name",placeholder:"",value:a.name,onChange:j})]}),Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"\u91d1\u984d"}),Object(m.jsx)("input",{name:"amt",placeholder:"",value:a.amt,onChange:j})]}),Object(m.jsx)(F.a,{type:"submit",primary:!0,children:"Save"})]}),Object(m.jsx)(F.a,{floated:"right",onClick:b,children:"Delete"})]})}var ge=n(254);function Ce(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=g().login,c=Object(r.useState)(""),a=Object(s.a)(c,2),i=(a[0],a[1]),j=Object(r.useState)(!1),d=Object(s.a)(j,2),u=(d[0],d[1]),O=Object(w.g)();function h(){return(h=Object(o.a)(Object(l.a)().mark((function c(a){return Object(l.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a.preventDefault(),c.prev=1,i(""),u(!0),c.next=6,n(e.current.value,t.current.value);case 6:O.push("/balances"),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),i("Failed to log in");case 12:u(!1);case 13:case"end":return c.stop()}}),c,null,[[1,9]])})))).apply(this,arguments)}return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(ge.a,{fluid:!0,children:[Object(m.jsx)(ge.a.Content,{textAlign:"center",header:"Money 2022"}),Object(m.jsx)(ge.a.Content,{children:Object(m.jsxs)(R.a,{size:"large",onSubmit:function(e){return h.apply(this,arguments)},children:[Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"Email"}),Object(m.jsx)("input",{ref:e,defaultValue:"mkdodos@gmail.com"})]}),Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"Password"}),Object(m.jsx)("input",{ref:t,defaultValue:"123456"})]}),Object(m.jsx)(F.a,{fluid:!0,type:"submit",size:"large",color:"blue",children:"\u767b\u5165"})]})}),Object(m.jsxs)(ge.a.Content,{extra:!0,children:[Object(m.jsx)(b.a,{name:"user"}),"4 Friends"]})]})})}var we=n(176),ye=["component"];function ke(e){var t=e.component,n=Object(we.a)(e,ye),c=g().currentUser;return Object(m.jsx)(w.b,Object(E.a)(Object(E.a)({},n),{},{render:function(e){return c?Object(m.jsx)(t,Object(E.a)({},e)):Object(m.jsx)(w.a,{to:"/login"})}}))}function Se(e){return Object(m.jsxs)(j.a,{widths:3,children:[Object(m.jsx)(j.a.Item,{children:Object(m.jsx)(F.a,{onClick:e.onMinusClick,children:"-"})}),Object(m.jsx)(j.a.Item,{children:Object(m.jsx)(F.a,{primary:!0,onDoubleClick:e.onDoubleClick,onClick:e.onClick,children:e.text})}),Object(m.jsx)(j.a.Item,{children:Object(m.jsx)(F.a,{onClick:e.onPlusClick,children:"+"})})]})}function Ee(){var e=Object(r.useState)(0),t=Object(s.a)(e,2),n=t[0],c=t[1],a=g().currentUser;var i=Object(r.useReducer)((function(e,t){switch(t.type){case"sort":return e.column===t.column?Object(E.a)(Object(E.a)({},e),{},{data:e.data.slice().reverse(),direction:"ascending"===e.direction?"descending":"ascending"}):Object(E.a)(Object(E.a)({},e),{},{column:t.column,data:P.a.sortBy(e.data,[t.column]),direction:"ascending"});case"setData":return{data:t.data,dataCopy:t.data};case"filterData":return Object(E.a)(Object(E.a)({},e),{},{data:t.data});case"copyData":return Object(E.a)(Object(E.a)({},e),{},{data:e.dataCopy});default:throw new Error}}),{column:null,data:[],dataCopy:[],direction:null}),l=Object(s.a)(i,2),o=l[0],j=l[1],d=Object(r.useState)((new Date).getMonth()+1),b=Object(s.a)(d,2),u=b[0],O=b[1],h=(o.column,o.data),f=o.direction,p=o.dataCopy;function v(e){var t=0;return e.map((function(e){t+=1*e.expense})),t}return Object(r.useEffect)((function(){var e="";e=u>=10?u:"0"+u,x.collection("balances").where("date",">=","2022-".concat(e,"-01")).where("date","<=","2022-".concat(e,"-31")).where("user","==",a.email).get().then((function(e){var t=e.docs.map((function(e){return Object(E.a)(Object(E.a)({id:e.id},e.data()),{},{expense:parseInt(e.data().expense)})})).filter((function(e){return e.expense>0&&"\u8f49\u5e33"!==e.type})),n=0;t.map((function(e){n+=1*e.expense})),c(n),j({type:"setData",data:t,dataCopy:t})}))}),[u]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Se,{text:"".concat(u," \u6708"),onPlusClick:function(){O(12==u?1:u+1)},onClick:function(){O((new Date).getMonth()+1)},onMinusClick:function(){O(1==u?12:u-1)}}),Object(m.jsx)(A.a,{textAlign:"center",children:Object(m.jsx)(L.a,{color:"blue",onClick:function(){console.log(p),j({type:"copyData"}),c(v(p))},children:Object(m.jsx)(L.a.Value,{children:H(n)})})}),Object(m.jsxs)(B.a,{celled:!0,unstackable:!0,sortable:!0,children:[Object(m.jsx)(B.a.Header,{children:Object(m.jsxs)(B.a.Row,{children:[Object(m.jsx)(B.a.HeaderCell,{width:3,sorted:"date"===o.column?f:null,onClick:function(){j({type:"sort",column:"date"})},children:"\u65e5\u671f"}),Object(m.jsx)(B.a.HeaderCell,{sorted:"title"===o.column?f:null,onClick:function(){j({type:"sort",column:"title"})},children:"\u9805\u76ee"}),Object(m.jsx)(B.a.HeaderCell,{sorted:"expense"===o.column?f:null,onClick:function(){j({type:"sort",column:"expense"}),console.log("d")},children:"\u652f\u51fa"})]})}),Object(m.jsx)(B.a.Body,{children:h.map((function(e){return Object(m.jsxs)(B.a.Row,{children:[Object(m.jsx)(B.a.Cell,{onClick:function(){var t=h.filter((function(t){return t.date==e.date}));j({type:"filterData",data:t}),c(v(t))},children:e.date.slice(5,10)}),Object(m.jsx)(B.a.Cell,{children:e.title?e.title:Object(m.jsx)($.a,{children:e.cate})}),Object(m.jsx)(B.a.Cell,{children:e.expense})]},e.id)}))})]})]})}function Ie(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),i=Object(s.a)(a,2),l=i[0],o=i[1],j=Object(r.useState)([]),b=Object(s.a)(j,2),u=b[0],O=b[1],h=Object(r.useState)([]),f=Object(s.a)(h,2),p=f[0],v=f[1],g=Object(r.useState)({title:"",account:"",cate:""}),C=Object(s.a)(g,2),w=C[0],y=C[1],S={date:(new Date).toISOString().slice(0,10),title:"",expense:"",type:"\u4e00\u822c"},A=Object(r.useState)(S),L=Object(s.a)(A,2),H=L[0],D=L[1],P=Object(r.useState)(!1),M=Object(s.a)(P,2),N=M[0],z=M[1],U=Object(r.useState)(!1),T=Object(s.a)(U,2),W=T[0],q=T[1],V=Object(r.useState)((new Date).getMonth()+1),Y=Object(s.a)(V,2),X=Y[0],J=(Y[1],x.collection("balances"));Object(r.useEffect)((function(){$(),K(),Z()}),[]),Object(r.useEffect)((function(){O(p.filter((function(e){var t;return e.account.name.includes(w.account)&&e.title.includes(w.title)&&(null===(t=e.cate)||void 0===t?void 0:t.includes(w.cate))}))),console.log(w)}),[w]);var K=function(){z(!0),x.collection("accounts").where("user","==","mkdodos@gmail.com").orderBy("prior").get().then((function(e){var t=e.docs.map((function(e){return{key:e.id,text:e.data().name,value:e.data().name}}));c(t),z(!1)}))},Z=function(){z(!0),x.collection("cates").where("user","==","mkdodos@gmail.com").orderBy("prior").get().then((function(e){var t=e.docs.map((function(e){return{key:e.id,text:e.data().name,value:e.data().name}}));o(t),z(!1)}))},$=function(){z(!0),J.where("date",">=","2022-0".concat(X,"-01")).where("date","<=","2022-0".concat(X,"-31")).get().then((function(e){var t=e.docs.map((function(e){return Object(E.a)(Object(E.a)({},e.data()),{},{id:e.id})}));t=t.slice().reverse(),console.log(t),O(t),v(t),z(!1)}))},_=function(e){D(Object(E.a)(Object(E.a)({},H),{},Object(k.a)({},e.target.name,e.target.value)))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(I.a,{open:W,closeIcon:!0,onClose:function(){q(!1)},children:[Object(m.jsx)(I.a.Header,{children:"\u7de8\u8f2f"}),Object(m.jsx)(I.a.Content,{children:Object(m.jsxs)(R.a,{children:[Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"\u65e5\u671f"}),Object(m.jsx)("input",{name:"date",type:"date",placeholder:"",value:H.date,onChange:_})]}),Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"\u9805\u76ee"}),Object(m.jsx)("input",{name:"title",type:"text",value:H.title,onChange:_})]}),Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"\u91d1\u984d"}),Object(m.jsx)("input",{name:"expense",type:"number",value:H.expense,onChange:_})]}),Object(m.jsx)(R.a.Select,{label:"\u8a18\u5e33\u985e\u578b",value:H.type,onChange:function(e,t){D(Object(E.a)(Object(E.a)({},H),{},{type:t.value}))},name:"types",options:[{key:"1",text:"\u4e00\u822c",value:"\u4e00\u822c"},{key:"2",text:"\u8f49\u5e33",value:"\u8f49\u5e33"},{key:"3",text:"\u6295\u8cc7",value:"\u6295\u8cc7"}]})]})}),Object(m.jsx)(I.a.Actions,{children:Object(m.jsx)(F.a,{primary:!0,loading:N,onClick:function(){z(!0),H.id?J.doc(H.id).update(H).then((function(){$(),D(S),q(!1)})):J.add(H).then((function(){$(),D(S),q(!1)}))},children:"\u5132\u5b58"})})]}),Object(m.jsx)(G.a,{children:Object(m.jsxs)(G.a.Row,{columns:3,children:[Object(m.jsx)(G.a.Column,{children:Object(m.jsx)(Q.a,{name:"search",fluid:!0,onChange:function(e){y(Object(E.a)(Object(E.a)({},w),{},{title:e.target.value}))},placeholder:"Search..."})}),Object(m.jsx)(G.a.Column,{children:Object(m.jsx)(d.a,{selection:!0,clearable:!0,options:n,label:"\u5e33\u6236",onChange:function(e,t){y(Object(E.a)(Object(E.a)({},w),{},{account:t.value}))}})}),Object(m.jsx)(G.a.Column,{children:Object(m.jsx)(d.a,{selection:!0,clearable:!0,options:l,label:"\u985e\u5225",onChange:function(e,t){y(Object(E.a)(Object(E.a)({},w),{},{cate:t.value}))}})})]})}),Object(m.jsxs)(B.a,{striped:!0,unstackable:!0,children:[Object(m.jsx)(B.a.Header,{children:Object(m.jsxs)(B.a.Row,{children:[Object(m.jsx)(B.a.HeaderCell,{width:2,children:"\u65e5\u671f"}),Object(m.jsx)(B.a.HeaderCell,{width:1,children:"\u5e33\u6236"}),Object(m.jsx)(B.a.HeaderCell,{width:4,children:"\u9805\u76ee"}),Object(m.jsx)(B.a.HeaderCell,{width:2,children:"\u91d1\u984d"}),Object(m.jsx)(B.a.HeaderCell,{children:"\u8a18\u5e33\u985e\u578b"})]})}),Object(m.jsx)(B.a.Body,{children:u.map((function(e){return Object(m.jsxs)(B.a.Row,{onClick:function(){D(e),q(!0),console.log(e)},children:[Object(m.jsx)(B.a.Cell,{children:e.date}),Object(m.jsx)(B.a.Cell,{children:e.account.name}),Object(m.jsx)(B.a.Cell,{children:e.title}),Object(m.jsx)(B.a.Cell,{children:e.expense||e.income}),Object(m.jsx)(B.a.Cell,{children:e.type})]},e.id)}))})]})]})}function Re(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){J.a.get("http://localhost:8888/laravel5salary/public/emp/basic/data").then((function(e){c(e.data),console.log(e.data)}))}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("pre",{children:JSON.stringify(n)}),n.map((function(e){return Object(m.jsx)("div",{children:e.name},e.name)}))]})}function Fe(e){var t=e.num,n=e.active,c=e.onClick;return Object(m.jsx)("button",{style:n?{backgroundColor:"#55d6be",outline:"none",height:"50px",width:"50px",borderRadius:"50%",border:"1px solid white"}:{backgroundColor:"#fc6471",outline:"none",height:"50px",width:"50px",borderRadius:"50%",border:"1px solid white"},onClick:c,children:t})}n(226);function Ae(e){var t=e.score;return Object(m.jsx)("div",{className:"score",children:Object(m.jsx)("span",{className:"score-text",children:t})})}var Le=n(246);n(227);function Be(e){var t=e.year,n=(e.setYear,e.rows),c=(e.setSelectedRow,e.onYearClick);return Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"wrapper",children:Object(m.jsxs)("table",{className:"scores-table",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Year"}),Object(m.jsx)("th",{children:"Basic"}),Object(m.jsx)("th",{children:"Advance"})]})}),Object(m.jsx)("tbody",{children:n.map((function(e){return Object(m.jsxs)("tr",{onClick:function(){return c(e)},children:[Object(m.jsx)("td",{className:t==e.year?"active":"",children:e.year}),Object(m.jsx)("td",{children:e.basic}),Object(m.jsx)("td",{children:e.advance})]},e.id)}))})]})})})}var He=n(255);function De(){var e="2022-11-20",t=(new Date).getTime(),n=new Date("".concat(e," 00:00:00")).getTime(),c=(n-t)/60/60/1e3/24,a=n-t-24*(c=Math.floor(c))*60*60*1e3,r=a/60/60/1e3,i=(a-=60*(r=Math.floor(r))*60*1e3)/60/1e3;return i=Math.floor(i),Object(m.jsxs)("div",{children:[Object(m.jsx)(He.a,{icon:!0,children:Object(m.jsxs)(He.a.Content,{children:[Object(m.jsxs)(He.a.Header,{children:[" ",Object(m.jsx)(b.a,{name:"circle notched",loading:!0})," \u8ddd\u96e2 ",e," "]}),Object(m.jsxs)(L.a.Group,{children:[Object(m.jsxs)(L.a,{children:[Object(m.jsx)(L.a.Value,{children:c}),Object(m.jsx)(L.a.Label,{children:"\u5929"})]}),Object(m.jsxs)(L.a,{children:[Object(m.jsx)(L.a.Value,{children:r}),Object(m.jsx)(L.a.Label,{children:"\u5c0f\u6642"})]}),Object(m.jsxs)(L.a,{children:[Object(m.jsx)(L.a.Value,{children:i}),Object(m.jsx)(L.a.Label,{children:"\u5206\u9418"})]})]})]})}),Object(m.jsx)("br",{})]})}function Pe(){var e={display:"grid",gridTemplateColumns:"repeat(6, 50px)",gridTemplateRows:"repeat(4, 50px)",gap:"5px",justifyContent:"center",marginBottom:"20px"},t=Object(r.useState)([]),n=Object(s.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)([]),l=Object(s.a)(i,2),o=(l[0],l[1],Object(r.useState)([])),j=Object(s.a)(o,2),d=j[0],b=j[1],u=Object(r.useState)([]),O=Object(s.a)(u,2),h=O[0],f=O[1],p=Object(r.useState)(0),v=Object(s.a)(p,2),g=v[0],C=v[1],w=Object(r.useState)(0),y=Object(s.a)(w,2),k=y[0],S=y[1],I=Object(r.useState)(!1),R=Object(s.a)(I,2),F=R[0],A=(R[1],Object(r.useState)({})),L=Object(s.a)(A,2),B=L[0],H=L[1],D=Object(r.useState)(0),P=Object(s.a)(D,2),M=P[0],N=P[1],z=x.collection("scores"),U=x.collection("scoreDetails");Object(r.useEffect)((function(){for(var e=2017;e<2022;e++);z.orderBy("year").get().then((function(e){var t=e.docs.map((function(e,t){return Object(E.a)(Object(E.a)({},e.data()),{},{id:e.id})}));a(t)}))}),[]),Object(r.useEffect)((function(){U.orderBy("sn").where("year","==",M).get().then((function(e){var t=e.docs.map((function(e){return Object(E.a)(Object(E.a)({},e.data()),{},{id:e.id})})),n=t.filter((function(e){return"basic"===e.type}));b(n),T(n);var c=t.filter((function(e){return"advance"===e.type}));f(c),W(c)}))}),[M]),Object(r.useEffect)((function(){var e=c.indexOf(B);-1!==e&&z.doc(B.id).update({basic:g}).then((function(){var t=c.slice();Object.assign(t[e],Object(E.a)(Object(E.a)({},B),{},{basic:g})),a(t)}))}),[g]),Object(r.useEffect)((function(){var e=c.indexOf(B);-1!==e&&z.doc(B.id).update({advance:k}).then((function(){var t=c.slice();Object.assign(t[e],Object(E.a)(Object(E.a)({},B),{},{advance:k})),a(t)}))}),[k]);var T=function(e){var t=0;e.map((function(e){return e.correct?t+=5:t})),C(t)},W=function(e){var t=0;e.map((function(e){return e.correct?t+=8:t})),S(t)},q=function(e){U.doc(e.id).update({correct:!e.correct}).then((function(){if("basic"===e.type){var t=d.slice(),n=e;Object.assign(n,Object(E.a)(Object(E.a)({},n),{},{correct:!n.correct})),b(t),T(t)}if("advance"===e.type){var c=h.slice(),a=e;Object.assign(a,Object(E.a)(Object(E.a)({},a),{},{correct:!a.correct})),f(c),W(c)}}))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(De,{}),Object(m.jsx)(Be,{year:M,setYear:N,rows:c,setSelectedRow:H,onYearClick:function(e){N(e.year),H(e)}}),F?Object(m.jsx)(Le.a,{active:!0,inline:"centered"}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ae,{score:g}),Object(m.jsx)("div",{style:e,children:d.map((function(e){return Object(m.jsx)(Fe,{onClick:function(){return q(e)},active:e.correct,num:e.sn},e.id)}))}),Object(m.jsx)(Ae,{score:k}),Object(m.jsx)("div",{style:e,children:h.map((function(e){return Object(m.jsx)(Fe,{onClick:function(){return q(e)},active:e.correct,num:e.sn},e.id)}))})]})]})}var Me=n(253);function Ne(e){var t=e.setEditedRow,n=e.editedRow,c=["\u4e0a","\u4e0b"];return Object(m.jsx)("div",{children:Object(m.jsx)(Me.a,{horizontal:!0,children:["1","2"].map((function(e,a){return Object(m.jsx)(Me.a.Item,{onClick:function(){t(Object(E.a)(Object(E.a)({},n),{},{section:e}))},children:Object(m.jsx)(Me.a.Content,{children:Object(m.jsx)(Me.a.Header,{children:Object(m.jsxs)(F.a,{basic:!0,primary:n.section==e,children:[c[a],"\u5b78\u671f"]})})})},e)}))})})}function ze(e){var t=e.rows,n=e.setEditedIndex,c=(e.open,e.setOpen),a=e.setEditedRow,r=(e.editedRow,["\u671f\u4e2d","\u671f\u672b"]);return Object(m.jsx)("div",{children:Object(m.jsxs)(B.a,{striped:!0,unstackable:!0,children:[Object(m.jsx)(B.a.Header,{children:Object(m.jsxs)(B.a.Row,{children:[Object(m.jsx)(B.a.HeaderCell,{children:"\u5b78\u671f"}),Object(m.jsxs)(B.a.HeaderCell,{children:[" ",Object(m.jsx)(b.a,{name:"tree"})]}),Object(m.jsx)(B.a.HeaderCell,{children:"\u570b\u8a9e"}),Object(m.jsx)(B.a.HeaderCell,{children:"\u82f1\u6587"}),Object(m.jsx)(B.a.HeaderCell,{children:"\u6578\u5b78"}),Object(m.jsx)(B.a.HeaderCell,{children:"\u81ea\u7136"}),Object(m.jsx)(B.a.HeaderCell,{children:"\u793e\u6703"}),Object(m.jsx)(B.a.HeaderCell,{children:Object(m.jsx)(b.a,{name:"signal"})}),Object(m.jsx)(B.a.HeaderCell,{})]})}),Object(m.jsx)(B.a.Body,{children:t.map((function(e,t){return Object(m.jsxs)(B.a.Row,{children:[Object(m.jsxs)(B.a.Cell,{children:[e.year,"-",e.section]}),Object(m.jsx)(B.a.Cell,{children:Object(m.jsx)($.a,{color:1==e.type?"olive":"green",children:r[e.type-1]})}),Object(m.jsx)(B.a.Cell,{children:e.ch}),Object(m.jsx)(B.a.Cell,{children:e.en}),Object(m.jsx)(B.a.Cell,{children:e.math}),Object(m.jsx)(B.a.Cell,{children:e.nature}),Object(m.jsx)(B.a.Cell,{children:e.society}),Object(m.jsx)(B.a.Cell,{children:Object(m.jsx)(Z.a,{as:"h4",children:e.total})}),Object(m.jsx)(B.a.Cell,{onClick:function(){a(e),n(t),c(!0)},children:Object(m.jsx)(b.a,{name:"edit"})})]},e.id)}))})]})})}var Ue=n(247);function Te(e){var t=e.open,n=e.setOpen,c=e.setYear,a=e.year,i=Object(r.useState)(""),l=Object(s.a)(i,2);l[0],l[1];return Object(m.jsx)("div",{children:Object(m.jsxs)(I.a,{open:t,onClose:function(){return n(!1)},closeIcon:!0,children:[Object(m.jsx)(I.a.Header,{children:"\u5e74\u5ea6"}),Object(m.jsx)(I.a.Content,{children:Object(m.jsx)(Me.a,{horizontal:!0,celled:!0,children:[111,112,113,114].map((function(e){return Object(m.jsx)(Me.a.Item,{onClick:function(){console.log(e),n(!1),c(e)},children:e==a?Object(m.jsx)(F.a,{color:"teal",children:e}):Object(m.jsx)(F.a,{children:e})},e)}))})})]})})}function We(e){e.open,e.setOpen;var t=e.setEditedRow,n=e.editedRow,c=["\u671f\u4e2d","\u671f\u672b"];return Object(m.jsx)("div",{children:Object(m.jsx)(Me.a,{horizontal:!0,children:["1","2"].map((function(e,a){return Object(m.jsx)(Me.a.Item,{onClick:function(){t(Object(E.a)(Object(E.a)({},n),{},{type:e}))},children:Object(m.jsx)(Me.a.Content,{children:Object(m.jsx)(Me.a.Header,{children:Object(m.jsxs)(F.a,{basic:!0,positive:n.type==e,children:[c[a],"\u8003"]})})})},e)}))})})}function qe(e){var t=e.open,n=e.setOpen,c=e.editedRow,a=e.setEditedRow,r=e.defaultItem,i=(e.rows,e.editedIndex,e.setEditedIndex),l=e.saveRow,o=e.deleteRow,s=e.loading,j=(e.setLoading,e.yearOpen),d=e.setYearOpen;return Object(m.jsxs)("div",{children:[Object(m.jsx)(F.a,{primary:!0,onClick:function(){i(-1),n(!0),a(r)},children:"\u65b0\u589e"}),Object(m.jsxs)(I.a,{closeIcon:!0,open:t,onClose:function(){return n(!1)},children:[Object(m.jsx)(Te,{open:j,setOpen:d,setYear:function(e){a(Object(E.a)(Object(E.a)({},c),{},{year:e}))},year:c.year}),Object(m.jsx)(I.a.Header,{children:"\u7de8\u8f2f"}),Object(m.jsx)(I.a.Content,{children:Object(m.jsxs)(R.a,{unstackable:!0,children:[Object(m.jsxs)(R.a.Group,{widths:2,children:[Object(m.jsx)(R.a.Input,{placeholder:"\u5e74\u5ea6",type:"number",value:c.year,onChange:function(e){a(Object(E.a)(Object(E.a)({},c),{},{year:e.target.value}))}}),Object(m.jsx)(R.a.Button,{onClick:function(){d(!0)},children:"\u9078\u64c7\u5e74\u5ea6"})]}),Object(m.jsx)(R.a.Group,{widths:2}),Object(m.jsx)(Ne,{editedRow:c,setEditedRow:a}),Object(m.jsx)(We,{editedRow:c,setEditedRow:a}),Object(m.jsx)(Ue.a,{horizontal:!0,children:Object(m.jsx)(Z.a,{as:"h4",children:Object(m.jsx)(b.a,{name:"signal"})})}),Object(m.jsxs)(R.a.Field,{inline:!0,children:[Object(m.jsx)("label",{children:"\u570b\u8a9e"}),Object(m.jsx)("input",{type:"number",value:c.ch,onChange:function(e){a(Object(E.a)(Object(E.a)({},c),{},{ch:e.target.value}))}})]}),Object(m.jsxs)(R.a.Field,{inline:!0,children:[Object(m.jsx)("label",{children:"\u82f1\u6587"}),Object(m.jsx)("input",{type:"number",value:c.en,onChange:function(e){a(Object(E.a)(Object(E.a)({},c),{},{en:e.target.value}))}})]}),Object(m.jsxs)(R.a.Field,{inline:!0,children:[Object(m.jsx)("label",{children:"\u6578\u5b78"}),Object(m.jsx)("input",{type:"number",value:c.math,onChange:function(e){a(Object(E.a)(Object(E.a)({},c),{},{math:e.target.value}))}})]}),Object(m.jsxs)(R.a.Field,{inline:!0,children:[Object(m.jsx)("label",{children:"\u81ea\u7136"}),Object(m.jsx)("input",{type:"number",value:c.nature,onChange:function(e){a(Object(E.a)(Object(E.a)({},c),{},{nature:e.target.value}))}})]}),Object(m.jsxs)(R.a.Field,{inline:!0,children:[Object(m.jsx)("label",{children:"\u793e\u6703"}),Object(m.jsx)("input",{type:"number",value:c.society,onChange:function(e){a(Object(E.a)(Object(E.a)({},c),{},{society:e.target.value}))}})]})]})}),Object(m.jsxs)(I.a.Actions,{children:[Object(m.jsx)(F.a,{loading:s,primary:!0,onClick:l,children:"\u5132\u5b58"}),Object(m.jsx)(F.a,{loading:s,color:"red",floated:"left",onClick:o,children:"\u522a\u9664"})]})]})]})}function Ge(){var e={year:"",section:"",ch:"",en:"",math:"",nature:"",society:""},t=Object(r.useState)(e),n=Object(s.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)([]),l=Object(s.a)(i,2),o=l[0],j=l[1],d=Object(r.useState)(!1),b=Object(s.a)(d,2),u=b[0],O=b[1],h=Object(r.useState)(!1),f=Object(s.a)(h,2),p=f[0],v=f[1],g=Object(r.useState)(-1),C=Object(s.a)(g,2),w=C[0],y=C[1],k=Object(r.useState)(!1),I=Object(s.a)(k,2),R=I[0],F=I[1],A=x.collection("schoolExams");Object(r.useEffect)((function(){A.get().then((function(e){var t=e.docs.map((function(e){return Object(E.a)(Object(E.a)({},e.data()),{},{id:e.id})}));j(t)}))}),[]);return Object(m.jsxs)("div",{children:[Object(m.jsx)(qe,{open:u,setOpen:O,editedRow:c,setEditedRow:a,defaultItem:e,rows:o,editedIndex:w,setEditedIndex:y,saveRow:function(){var e=o.slice();c.total=Number(c.ch)+Number(c.en)+Number(c.math)+Number(c.nature)+Number(c.society),F(!0),w>-1?A.doc(c.id).update(c).then((function(){Object.assign(e[w],c),j(e),O(!1),F(!1)})):A.add(c).then((function(e){j([].concat(Object(S.a)(o),[Object(E.a)(Object(E.a)({},c),{},{id:e.id})])),O(!1),F(!1)}))},deleteRow:function(){F(!0),A.doc(c.id).delete().then((function(){var e=o.slice();e.splice(w,1),j(e),O(!1),F(!1)}))},loading:R,setLoading:F,yearOpen:p,setYearOpen:v}),Object(m.jsx)(Ue.a,{horizontal:!0,children:"\u8003\u8a66\u6210\u7e3e"}),Object(m.jsx)(ze,{rows:o,open:u,setOpen:O,editedRow:c,setEditedRow:a,setEditedIndex:y})]})}var Ve=n(256),Ye=[{id:"1",name:"\u623f\u8cb8A",balance:"123"},{id:"2",name:"\u623f\u8cb8B",balance:"456"},{id:"3",name:"\u571f\u9280",balance:"789"}],Xe=[{id:"1",account:"\u623f\u8cb8A",date:"2022-10-08",basic:"11872",interest:"5123"},{id:"2",account:"\u623f\u8cb8B",date:"2022-10-08",basic:"247",interest:"123"},{id:"3",account:"\u623f\u8cb8B",date:"2022-10-08",basic:"10",interest:"13"}];function Je(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)({}),i=Object(s.a)(a,2),l=i[0],o=i[1],j=Object(r.useState)([]),d=Object(s.a)(j,2),b=d[0],u=d[1],O=Object(r.useState)([]),h=Object(s.a)(O,2),x=h[0],f=h[1],p=Object(r.useState)(),v=Object(s.a)(p,2),g=v[0],C=v[1],w={date:(new Date).toISOString().slice(0,10),basic:"",interest:"",account:""},y=Object(r.useState)(w),L=Object(s.a)(y,2),H=L[0],D=L[1],P=Object(r.useState)(-1),M=Object(s.a)(P,2),N=M[0],z=M[1],U=Object(r.useState)(!1),T=Object(s.a)(U,2),W=T[0],q=T[1],V=Object(r.useState)(!1),Y=Object(s.a)(V,2),X=Y[0];Y[1];Object(r.useEffect)((function(){c(Ye.filter((function(e){return"\u623f\u8cb8A"===e.name||"\u623f\u8cb8B"===e.name}))),o(Ye.filter((function(e){return"\u571f\u9280"===e.name}))[0]),u(Xe),f(Xe)}),[]);var J=function(e){D(Object(E.a)(Object(E.a)({},H),{},Object(k.a)({},e.target.name,e.target.value)))},Q=function(){var e=Object(E.a)(Object(E.a)({},H),{},{account:g.name,id:Object(Ve.a)()});u([e].concat(Object(S.a)(b))),f([e].concat(Object(S.a)(x)));var t=1*g.balance-1*H.basic;K(t),$("create"),q(!1),D(w)},K=function(e){var t=n.slice();Object.assign(t[g.index],Object(E.a)(Object(E.a)({},g),{},{balance:e})),c(t),C(Object(E.a)(Object(E.a)({},g),{},{balance:e}))},$=function(e){switch(e){case"create":o((function(e){return Object(E.a)(Object(E.a)({},e),{},{balance:Number(e.balance)-Number(H.basic)-Number(H.interest)})}));break;case"delete":o((function(e){return Object(E.a)(Object(E.a)({},e),{},{balance:Number(e.balance)+Number(H.basic)+Number(H.interest)})}))}};return Object(m.jsxs)("div",{children:[Object(m.jsxs)(I.a,{open:W,closeIcon:!0,onClose:function(){q(!1)},children:[Object(m.jsx)(I.a.Header,{children:"\u7de8\u8f2f\u623f\u8cb8"}),Object(m.jsx)(I.a.Content,{children:Object(m.jsxs)(R.a,{children:[Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"\u65e5\u671f"}),Object(m.jsx)("input",{type:"date",name:"date",value:H.date,onChange:J})]}),Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"\u672c\u91d1"}),Object(m.jsx)("input",{type:"number",name:"basic",value:H.basic,onChange:J})]}),Object(m.jsxs)(R.a.Field,{children:[Object(m.jsx)("label",{children:"\u5229\u606f"}),Object(m.jsx)("input",{type:"number",name:"interest",value:H.interest,onChange:J})]})]})}),Object(m.jsxs)(I.a.Actions,{children:[N>-1&&Object(m.jsx)(F.a,{onClick:function(){var e=1*g.balance+1*H.basic;K(e),$("delete"),u(b.filter((function(e){return e.id!==H.id}))),f(x.filter((function(e){return e.id!==H.id}))),q(!1)},color:"red",floated:"left",loading:X,children:"\u522a\u9664"}),Object(m.jsx)(F.a,{onClick:function(){N>-1||Q()},color:"blue",loading:X,children:"\u5132\u5b58"})]})]}),Object(m.jsxs)(G.a,{columns:2,children:[Object(m.jsx)(G.a.Row,{children:n.map((function(e,t){return Object(m.jsx)(G.a.Column,{children:Object(m.jsx)(A.a,{inverted:e.name===(null===g||void 0===g?void 0:g.name),color:"teal",onClick:function(){return function(e,t){C(Object(E.a)(Object(E.a)({},e),{},{index:t})),u(x.filter((function(t){return t.account===e.name})))}(e,t)},children:Object(m.jsxs)(Z.a,{as:"h2",inverted:e.name===(null===g||void 0===g?void 0:g.name),children:[e.balance,Object(m.jsx)(Z.a.Subheader,{children:e.name})]})})},e.id)}))}),Object(m.jsxs)(G.a.Row,{children:[Object(m.jsxs)(G.a.Column,{children:[l.name,l.balance]}),Object(m.jsx)(G.a.Column,{children:g&&Object(m.jsx)(F.a,{floated:"right",color:"yellow",onClick:function(){q(!0),z(-1),D(w)},children:"ADD"})})]})]}),Object(m.jsxs)(B.a,{celled:!0,unstackable:!0,children:[Object(m.jsx)(B.a.Header,{children:Object(m.jsxs)(B.a.Row,{children:[Object(m.jsx)(B.a.HeaderCell,{children:"\u65e5\u671f"}),Object(m.jsx)(B.a.HeaderCell,{children:"\u672c\u91d1"}),Object(m.jsx)(B.a.HeaderCell,{children:"\u5229\u606f"}),Object(m.jsx)(B.a.HeaderCell,{children:"\u5e33\u6236"})]})}),Object(m.jsx)(B.a.Body,{children:b.map((function(e,t){return Object(m.jsxs)(B.a.Row,{onClick:function(){return function(e,t){D(e),z(t),q(!0),console.log(e)}(e,t)},children:[Object(m.jsx)(B.a.Cell,{children:e.date}),Object(m.jsx)(B.a.Cell,{children:e.basic}),Object(m.jsx)(B.a.Cell,{children:e.interest}),Object(m.jsx)(B.a.Cell,{children:e.account})]},e.id)}))}),Object(m.jsx)(B.a.Footer,{})]})]})}var Qe,Ke,Ze,$e=n(46),_e=n(47),et=["title","titleId"];function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},tt.apply(this,arguments)}function nt(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ct(e,t){var n=e.title,c=e.titleId,a=nt(e,et);return r.createElement("svg",tt({width:"136px",height:"124px",viewBox:"0 0 136 124",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":c},a),void 0===n?r.createElement("title",{id:c},"day-cloudy"):n?r.createElement("title",{id:c},n):null,Qe||(Qe=r.createElement("desc",null,"Created with Sketch.")),Ke||(Ke=r.createElement("defs",null,r.createElement("linearGradient",{x1:"24.3617045%",y1:"72.8710337%",x2:"63.6421593%",y2:"39.9796521%",id:"linearGradient-1"},r.createElement("stop",{stopColor:"#F2F2F2",offset:"0%"}),r.createElement("stop",{stopColor:"#CFCFCF",offset:"100%"})),r.createElement("linearGradient",{x1:"72.5161778%",y1:"64.8727273%",x2:"8.62380839%",y2:"22.6545455%",id:"linearGradient-2"},r.createElement("stop",{stopColor:"#FFFFFF",offset:"2%"}),r.createElement("stop",{stopColor:"#FFFFFF",stopOpacity:0,offset:"100%"})))),Ze||(Ze=r.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"day-cloudy",transform:"translate(0.000000, 2.000000)"},r.createElement("circle",{id:"Oval",fill:"#EFCC00",fillRule:"nonzero",cx:84.5,cy:49.4446841,r:31.5}),r.createElement("path",{d:"M84,-0.0553158818 L84,10.9446841",id:"Path",stroke:"#EFCC00",strokeWidth:3,strokeLinecap:"round"}),r.createElement("path",{d:"M84,87.9446841 L84,98.9446841",id:"Path",stroke:"#EFCC00",strokeWidth:3,strokeLinecap:"round"}),r.createElement("path",{d:"M34,49.9446841 L45,49.9446841",id:"Path",stroke:"#EFCC00",strokeWidth:3,strokeLinecap:"round"}),r.createElement("path",{d:"M123,49.9446841 L134,49.9446841",id:"Path",stroke:"#EFCC00",strokeWidth:3,strokeLinecap:"round"}),r.createElement("path",{d:"M49,14.9446841 L57,22.9446841",id:"Path",stroke:"#EFCC00",strokeWidth:3,strokeLinecap:"round"}),r.createElement("path",{d:"M112,76.9446841 L120,84.9446841",id:"Path",stroke:"#EFCC00",strokeWidth:3,strokeLinecap:"round"}),r.createElement("path",{d:"M49,84.9446841 L57,76.9446841",id:"Path",stroke:"#EFCC00",strokeWidth:3,strokeLinecap:"round"}),r.createElement("path",{d:"M112,22.9446841 L120,14.9446841",id:"Path",stroke:"#EFCC00",strokeWidth:3,strokeLinecap:"round"}),r.createElement("path",{d:"M43.6759917,34.9446841 C59.8900952,34.9120269 74.7864611,43.8329661 82.3604414,58.1116072 C94.8397967,50.8446293 110.55339,52.1457401 121.656555,61.3653887 C132.75972,70.5850372 136.871287,85.7459907 131.938648,99.2794764 C127.006009,112.812962 114.08701,121.816608 99.6311764,121.795541 L43.6759917,121.944684 C19.5544075,121.944684 0,102.469091 0,78.444729 C0,54.4203672 19.5544075,34.9446841 43.6759917,34.9446841 Z",id:"Path",fill:"url(#linearGradient-1)",fillRule:"nonzero"}),r.createElement("ellipse",{id:"Oval",fill:"url(#linearGradient-2)",fillRule:"nonzero",transform:"translate(99.372837, 87.180572) rotate(-74.390000) translate(-99.372837, -87.180572) ",cx:99.3728371,cy:87.1805719,rx:34.1705349,ry:34.2478481})))))}var at,rt,it=r.forwardRef(ct),lt=(n.p,["title","titleId"]);function ot(){return ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},ot.apply(this,arguments)}function st(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function jt(e,t){var n=e.title,c=e.titleId,a=st(e,lt);return r.createElement("svg",ot({width:"120px",height:"92px",viewBox:"0 0 120 92",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":c},a),void 0===n?r.createElement("title",{id:c},"2682842 - breeze fast speed weather wind windy"):n?r.createElement("title",{id:c},n):null,at||(at=r.createElement("desc",null,"Created with Sketch.")),rt||(rt=r.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeLinecap:"round"},r.createElement("g",{id:"2682842---breeze-fast-speed-weather-wind-windy",transform:"translate(3.000000, 2.000000)",strokeWidth:5},r.createElement("path",{d:"M0,59.5725105 L65.4936276,59.5725105 C72.9529911,59.5725105 79,65.6166664 79,73.0725105 L79,73.0725105 C79,80.5283547 72.9529911,86.5725105 65.4936276,86.5725105",id:"Path",stroke:"#A5A9AA"}),r.createElement("path",{d:"M79.3239437,0.57251054 C84.1155973,0.57251054 88,4.37809017 88,9.07251054 L88,9.07251054 C88,13.7669309 84.1155973,17.5725105 79.3239437,17.5725105 L0,17.5725105",id:"Path",stroke:"#A5A9AA"}),r.createElement("path",{d:"M77,40.5725105 L107.487805,40.5725105 C111.084391,40.5725105 114,43.4881196 114,47.0847057 L114,47.0847057 C113.986565,50.6717631 111.074887,53.5725105 107.487805,53.5725105",id:"Path",stroke:"#B9C1C6"}),r.createElement("path",{d:"M42,39.5725105 L62,39.5725105",id:"Path",stroke:"#A5A9AA"}),r.createElement("path",{d:"M0,39.5725105 L27,39.5725105",id:"Path",stroke:"#B9C1C6",fill:"#D8D8D8"})))))}var dt,bt,ut=r.forwardRef(jt),Ot=(n.p,["title","titleId"]);function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},ht.apply(this,arguments)}function xt(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ft(e,t){var n=e.title,c=e.titleId,a=xt(e,Ot);return r.createElement("svg",ht({width:"142px",height:"123px",viewBox:"0 0 142 123",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":c},a),void 0===n?r.createElement("title",{id:c},"2682820 - forecast hail rain snow stones storm weather"):n?r.createElement("title",{id:c},n):null,dt||(dt=r.createElement("desc",null,"Created with Sketch.")),bt||(bt=r.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"2682820---forecast-hail-rain-snow-stones-storm-weather",transform:"translate(4.000000, 4.000000)"},r.createElement("circle",{id:"Oval",fill:"#C4C4C4",fillRule:"nonzero",cx:124.5,cy:63.8514002,r:7.5}),r.createElement("path",{d:"M1,98.3514002 L133,98.3514002",id:"Path",stroke:"#0D98FF",strokeWidth:10,strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M19,113.3514 L108,113.3514",id:"Path",stroke:"#0D98FF",strokeWidth:10,strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M49,16.3514002 L49,81.3514002 C43.3174639,74.5799058 36.1329484,69.1840349 28,65.579524",id:"Path",stroke:"#0BAEFF",strokeWidth:10,strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M83,26.3514002 L83,81.3514002 C83,81.3514002 91.8092933,65.6477466 109,65.59813",id:"Path",stroke:"#0BAEFF",strokeWidth:10,strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("circle",{id:"Oval",fill:"#C4C4C4",fillRule:"nonzero",cx:9.5,cy:60.8514002,r:7.5}),r.createElement("path",{d:"M66,1.35140018 L66,33.3514002",id:"Path",stroke:"#0BAEFF",strokeWidth:10,strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M66,51.3514002 L66,73.3514002",id:"Path",stroke:"#0BAEFF",strokeWidth:10,strokeLinecap:"round",strokeLinejoin:"round"})))))}var pt,mt,vt=r.forwardRef(ft),gt=(n.p,["title","titleId"]);function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},Ct.apply(this,arguments)}function wt(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yt(e,t){var n=e.title,c=e.titleId,a=wt(e,gt);return r.createElement("svg",Ct({width:"104px",height:"92px",viewBox:"0 0 104 92",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":c},a),void 0===n?r.createElement("title",{id:c},"redo"):n?r.createElement("title",{id:c},n):null,pt||(pt=r.createElement("desc",null,"Created with Sketch.")),mt||(mt=r.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"redo",transform:"translate(48.500000, 43.500000) scale(1, -1) rotate(73.000000) translate(-48.500000, -43.500000) translate(0.000000, -5.000000)",fill:"#979797",fillRule:"nonzero"},r.createElement("path",{d:"M48.5889819,0 C61.5488468,0.0233510116 73.3155726,5.13031863 82.0029395,13.4324167 L88.9875262,6.44783571 C91.9444617,3.49109819 97,5.58520133 97,9.76675841 L97,35.9839206 C97,38.5761261 94.8986593,40.6774651 92.3064516,40.6774651 L66.0892681,40.6774651 C61.9077077,40.6774651 59.8136028,35.6219309 62.7703427,32.6649979 L70.9351613,24.500186 C64.8992581,18.8485716 57.088998,15.7179774 48.7913911,15.6464008 C30.721621,15.4903405 15.4900786,30.1136653 15.6463347,48.7832166 C15.7945726,66.4937204 30.1529194,81.3548514 48.5,81.3548514 C56.5429819,81.3548514 64.1445746,78.4843578 70.1351069,73.227979 C71.0626694,72.4142357 72.463498,72.4637135 73.3361069,73.3361261 L81.0925867,81.0925996 C82.045377,82.0453892 81.998246,83.5987569 80.9983246,84.5018731 C72.398375,92.2698849 61.0016573,97 48.5,97 C21.7143105,97 0,75.2859027 0,48.5004306 C0,21.7454664 21.833996,-0.0478344144 48.5889819,0 Z",id:"Path"})))))}var kt,St,Et=r.forwardRef(yt),It=(n.p,["title","titleId"]);function Rt(){return Rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},Rt.apply(this,arguments)}function Ft(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function At(e,t){var n=e.title,c=e.titleId,a=Ft(e,It);return r.createElement("svg",Rt({width:"97px",height:"91px",viewBox:"0 0 97 91",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":c},a),void 0===n?r.createElement("title",{id:c},"loading"):n?r.createElement("title",{id:c},n):null,kt||(kt=r.createElement("desc",null,"Created with Sketch.")),St||(St=r.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"loading",transform:"translate(46.453398, 49.194133) scale(1, -1) rotate(73.000000) translate(-46.453398, -49.194133) translate(4.953398, 0.694133)",fill:"#BDBDBD",fillRule:"nonzero"},r.createElement("path",{d:"M48.5889819,-0.00046772224 C61.5488468,0.0233510116 73.3155726,5.13031863 82.0029395,13.4324167 L70.9351613,24.500186 C64.8992581,18.8485716 57.088998,15.7179774 48.7913911,15.6464008 C30.721621,15.4903405 15.4900786,30.1136653 15.6463347,48.7832166 C15.7945726,66.4937204 30.1529194,81.3548514 48.5,81.3548514 C56.5429819,81.3548514 64.1445746,78.4843578 70.1351069,73.227979 C71.0626694,72.4142357 72.463498,72.4637135 73.3361069,73.3361261 L81.0925867,81.0925996 C82.045377,82.0453892 81.998246,83.5987569 80.9983246,84.5018731 C72.398375,92.2698849 61.0016573,97 48.5,97 C21.7143105,97 0,75.2859027 0,48.5004306 C0,21.7454664 21.833996,-0.0478344144 48.5889819,-0.00046772224 Z",id:"Path"})))))}var Lt,Bt,Ht,Dt,Pt,Mt,Nt,zt,Ut,Tt,Wt,qt=r.forwardRef(At),Gt=(n.p,_e.a.div(Lt||(Lt=Object($e.a)(["\n  background-color: #ededed;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),_e.a.div(Bt||(Bt=Object($e.a)(["\n  position: relative;\n  // min-width: 360px;\n  box-shadow: 0 1px 3px 0 #999999;\n  background-color: #f9f9f9;\n  box-sizing: border-box;\n  padding: 30px 25px;\n"])))),Vt=_e.a.div(Ht||(Ht=Object($e.a)(["\n  font-size: 28px;\n  color: #212121;\n  margin-bottom: 20px;\n"]))),Yt=_e.a.div(Dt||(Dt=Object($e.a)(["\n  font-size: 16px;\n  color: #828282;\n  margin-bottom: 30px;\n"]))),Xt=_e.a.div(Pt||(Pt=Object($e.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 30px;\n"]))),Jt=_e.a.div(Mt||(Mt=Object($e.a)(["\n  color: #757575;\n  font-size: 96px;\n  font-weight: 300;\n  display: flex;\n"]))),Qt=_e.a.div(Nt||(Nt=Object($e.a)(["\n  font-weight: normal;\n  font-size: 42px;\n"]))),Kt=_e.a.div(zt||(zt=Object($e.a)(["\n  display: flex;\n  align-items: center;\n  font-size: 16x;\n  font-weight: 300;\n  color: #828282;\n  margin-bottom: 20px;\n\n  svg {\n    width: 25px;\n    height: auto;\n    margin-right: 30px;\n  }\n"]))),Zt=_e.a.div(Ut||(Ut=Object($e.a)(["\n  display: flex;\n  align-items: center;\n  font-size: 16x;\n  font-weight: 300;\n  color: #828282;\n\n  svg {\n    width: 25px;\n    height: auto;\n    margin-right: 30px;\n  }\n"]))),$t=Object(_e.a)(it)(Tt||(Tt=Object($e.a)(["\n  flex-basis: 30%;\n"]))),_t=_e.a.div(Wt||(Wt=Object($e.a)(["\n  position: absolute;\n  right: 15px;\n  bottom: 15px;\n  font-size: 12px;\n  display: inline-flex;\n  align-items: flex-end;\n  color: #828282;\n\n  svg {\n    margin-left: 10px;\n    width: 15px;\n    height: 15px;\n    cursor: pointer;\n    /* STEP 2\uff1a\u4f7f\u7528 rotate \u52d5\u756b\u6548\u679c\u5728 svg \u5716\u793a\u4e0a */\n    animation: rotate infinite 1.5s linear;\n    animation-duration: ",";\n  }\n\n  /* STEP 1\uff1a\u5b9a\u7fa9\u65cb\u8f49\u7684\u52d5\u756b\u6548\u679c\uff0c\u4e26\u53d6\u540d\u70ba rotate */\n  @keyframes rotate {\n    from {\n      transform: rotate(360deg);\n    }\n    to {\n      transform: rotate(0deg);\n    }\n  }\n"])),(function(e){return e.isLoading?"1.5s":"0s"}));function en(){var e=Object(r.useState)({TEMP:"",WDSD:"",observationTime:(new Date).toLocaleTimeString()}),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(s.a)(a,2),j=i[0],d=i[1],b=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,u();case 3:t=e.sent,c(Object(E.a)(Object(E.a)({},t),{},{observationTime:(new Date).toLocaleTimeString()})),d(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){b()}),[]);var u=function(){return fetch("https://opendata.cwb.gov.tw/api/v1/rest/datastore/O-A0003-001?Authorization=".concat("CWB-9428EFB2-0CCE-4FA9-89FB-82EBBBB1415E","&locationName=").concat("\u81fa\u5317")).then((function(e){return e.json()})).then((function(e){return e.records.location[0].weatherElement.reduce((function(e,t){return["WDSD","TEMP","HUMD"].includes(t.elementName)&&(e[t.elementName]=t.elementValue),e}),{})}))};return Object(m.jsx)("div",{children:Object(m.jsxs)(Gt,{children:[Object(m.jsx)(Vt,{children:"\u53f0\u5357\u5e02"}),Object(m.jsx)(Yt,{children:"\u591a\u96f2\u6642\u6674"}),Object(m.jsxs)(Xt,{children:[Object(m.jsxs)(Jt,{children:[!j&&Math.round(n.TEMP)," ",!j&&Object(m.jsx)(Qt,{children:"\xb0C"})]}),Object(m.jsx)($t,{})]}),Object(m.jsxs)(Kt,{children:[Object(m.jsx)(ut,{})," ",n.WDSD," m/h"]}),Object(m.jsxs)(Zt,{children:[Object(m.jsx)(vt,{})," 48%"]}),Object(m.jsxs)(_t,{onClick:b,isLoading:j,children:["\u6700\u5f8c\u89c0\u6e2c\u6642\u9593\uff1a",n.observationTime," ",j?Object(m.jsx)(qt,{}):Object(m.jsx)(Et,{})]})]})})}function tn(){var e=Object(r.useState)(),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(m.jsx)("div",{children:Object(m.jsxs)(B.a,{celled:!0,unstackable:!0,children:[Object(m.jsx)(B.a.Header,{children:Object(m.jsx)(B.a.Row,{children:Array.from({length:7},(function(e,t){return Object(m.jsxs)(B.a.HeaderCell,{children:["\u661f\u671f",t<6?t+1:"\u65e5"]},t)}))})}),Object(m.jsx)(B.a.Body,{children:Array.from({length:5},(function(e,t){return Object(m.jsx)(B.a.Row,{children:Array.from({length:7},(function(e,a){return Object(m.jsx)(B.a.Cell,{onClick:function(){return c(7*t+a+1)},active:n===7*t+a+1,children:7*t+a+1<32?7*t+a+1:""},a)}))},t)}))}),Object(m.jsx)(B.a.Footer,{})]})})}function nn(e){var t=e.row,n=(e.index,e.onClick);e.rows;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(B.a.Row,{onClick:n,children:[Object(m.jsxs)(B.a.Cell,{children:[Object(m.jsx)(Z.a,{as:"h4",children:t.title}),Object(m.jsxs)("span",{children:[t.date," "]}),t.cate&&Object(m.jsx)($.a,{children:t.cate})]}),Object(m.jsxs)(B.a.Cell,{textAlign:"right",children:[t.income?Object(m.jsx)($.a,{color:"teal",circular:!0,children:"\u5b58"}):Object(m.jsx)($.a,{color:"orange",circular:!0,children:"\u63d0"}),Object(m.jsx)("br",{}),"$ ",t.income?t.income:t.expense+""]})]})})}function cn(e){var t=e.cate,n=(e.setCate,e.onChange),c=e.label,a=e.width,i=e.name,l=g().currentUser,o=Object(r.useState)([]),j=Object(s.a)(o,2),d=j[0],b=j[1],u=Object(r.useState)([]),O=Object(s.a)(u,2),h=(O[0],O[1],Object(r.useState)("")),f=Object(s.a)(h,2);f[0],f[1];return Object(r.useEffect)((function(){x.collection("cates").limit(10).where("user","==",l.email).get().then((function(e){var t=e.docs.map((function(e){return{text:e.data().name,value:e.data().name,key:e.id}}));b(t)}))}),[]),Object(m.jsx)(R.a.Select,{value:t,name:i,label:c,fluid:!0,width:a,options:d,onChange:n})}function an(e){var t=e.cateQuery,n=e.cate,c=e.setCate,a=e.searchText,r=e.setSearchText,i=e.setRows,l=e.rowsCopy;return Object(m.jsx)("div",{children:Object(m.jsxs)(R.a,{unstackable:!0,children:[Object(m.jsxs)(R.a.Group,{children:[Object(m.jsx)(R.a.Input,{width:8,fluid:!0,value:a,placeholder:"Search...",onChange:function(e){r(e.target.value),i(l.filter((function(t){return t.title.includes(e.target.value)})))}}),Object(m.jsx)(cn,{onChange:t,cate:n,width:8})]}),Object(m.jsxs)(F.a,{basic:!0,color:"teal",onClick:function(){r(""),c(""),i(l)},style:{marginTop:"5px",backgroundColor:"#f4bfdb",color:"#b27092"},children:[Object(m.jsx)(b.a,{name:"redo"})," \u91cd\u8a2d"]}),Object(m.jsx)(F.a,{floated:"right",style:{marginTop:"5px"},type:"submit",children:"\u5099\u7528"})]})})}function rn(e){var t=e.editedRow,n=e.setEditedRow,c=function(e){n(Object(E.a)(Object(E.a)({},t),{},Object(k.a)({},e.target.name,e.target.value)))};return Object(m.jsxs)(R.a,{unstackable:!0,children:[Object(m.jsx)(cn,{name:"cate",cate:null===t||void 0===t?void 0:t.cate,label:"\u985e\u5225",onChange:function(e,c){n(Object(E.a)(Object(E.a)({},t),{},Object(k.a)({},c.name,c.value)))}}),Object(m.jsx)(R.a.Input,{name:"title",onChange:c,value:null===t||void 0===t?void 0:t.title,label:"\u9805\u76ee"}),Object(m.jsxs)(R.a.Group,{children:[Object(m.jsx)(R.a.Input,{name:"income",onChange:c,value:null===t||void 0===t?void 0:t.income,width:8,label:"\u6536\u5165\u91d1\u984d"}),Object(m.jsx)(R.a.Input,{name:"expense",onChange:c,value:null===t||void 0===t?void 0:t.expense,width:8,label:"\u652f\u51fa\u91d1\u984d"})]})]})}var ln=n(177);function on(e){var t=e.id,n=Object(r.useState)(!1),c=Object(s.a)(n,2),a=c[0],i=c[1],l=Object(r.useState)(null),o=Object(s.a)(l,2),j=o[0],d=o[1],b=j&&URL.createObjectURL(j);return Object(m.jsxs)("div",{children:[Object(m.jsx)(ln.a,{src:b,size:"small"}),Object(m.jsx)(F.a,{as:"label",htmlFor:"uploadImage",children:"\u4e0a\u50b3\u5716\u7247"}),Object(m.jsx)(Q.a,{type:"file",id:"uploadImage",style:{display:"none"},onChange:function(e){d(e.target.files[0])}}),j&&Object(m.jsx)(F.a,{loading:a,onClick:function(){i(!0);var e=f.ref("post-images/"+t),n={contentType:j.type};e.put(j,n).then((function(){e.getDownloadURL().then((function(e){x.collection("balances").doc(t).update({imageUrl:e}),console.log(e),i(!1)}))}))},children:"\u9001\u51fa"})]})}function sn(){var e=g().currentUser,t=Object(r.useState)([]),n=Object(s.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)({cate:"",title:"",income:"",expense:""}),l=Object(s.a)(i,2),o=l[0],j=(l[1],Object(r.useState)(o)),d=Object(s.a)(j,2),b=d[0],u=d[1],O=Object(r.useState)(-1),h=Object(s.a)(O,2),f=h[0],p=h[1],v=Object(r.useState)(!1),C=Object(s.a)(v,2),w=C[0],y=C[1],k=Object(r.useState)(!1),S=Object(s.a)(k,2),R=S[0],A=S[1],L=Object(r.useState)(""),H=Object(s.a)(L,2),D=H[0],P=H[1],M=Object(r.useState)([]),N=Object(s.a)(M,2),z=N[0],U=N[1],T=Object(r.useState)(""),W=Object(s.a)(T,2),q=W[0],G=W[1];Object(r.useEffect)((function(){}),[]);return Object(m.jsxs)("div",{children:[Object(m.jsxs)(I.a,{open:w,closeIcon:!0,onClose:function(){y(!1)},children:[Object(m.jsx)(I.a.Header,{children:"\u7de8\u8f2f"}),Object(m.jsxs)(I.a.Content,{children:[Object(m.jsx)(on,{id:null===b||void 0===b?void 0:b.id}),Object(m.jsx)(rn,{editedRow:b,setEditedRow:u})]}),Object(m.jsx)(I.a.Actions,{children:Object(m.jsx)(F.a,{color:"teal",onClick:function(){A(!0),x.collection("balances").doc(b.id).update(b).then((function(){Object.assign(c[f],b),A(!1),y(!1)}))},loading:R,children:"\u5132\u5b58"})})]}),Object(m.jsx)(an,{cateQuery:function(t,n){x.collection("balances").orderBy("date","desc").where("user","==",e.email).where("cate","==",n.value).get().then((function(e){var t=e.docs.map((function(e){return Object(E.a)(Object(E.a)({},e.data()),{},{id:e.id})}));U(t);var n=t.slice();n.map((function(e,t){var c=n[t].date.substring(0,7),a="";t>0&&(a=n[t-1].date.substring(0,7));var r=!1;c!=a&&(r=!0);var i=Object(E.a)(Object(E.a)({},e),{},{s1:c,s2:a,flag:r});n[t]=i})),a(n),console.log(n)})),P(n.value)},cate:D,setCate:P,searchText:q,setSearchText:G,setRows:a,rowsCopy:z}),Object(m.jsx)(B.a,{unstackable:!0,children:Object(m.jsx)(B.a.Body,{children:c.map((function(e,t){return Object(m.jsxs)(m.Fragment,{children:[e.flag&&Object(m.jsx)(B.a.Row,{positive:!0,children:Object(m.jsx)(B.a.Cell,{colSpan:"2",textAlign:"center",children:Object(m.jsx)(Z.a,{as:"h4",children:e.s1})})}),Object(m.jsx)(nn,{index:t,rows:c,row:e,onClick:function(){return function(e){u(Object(E.a)(Object(E.a)({},o),e));var t=c.indexOf(e);p(t),y(!0)}(e)}},e.id)]})}))})})]})}function jn(){g().currentUser;return Object(m.jsxs)(w.d,{children:[Object(m.jsx)(w.b,{path:"/dashboard",exact:!0,component:Ee}),Object(m.jsx)(w.b,{path:"/dashboard/query",exact:!0,component:sn}),Object(m.jsx)(w.b,{path:"/calendar",exact:!0,component:tn}),Object(m.jsx)(w.b,{path:"/weather",exact:!0,component:en}),Object(m.jsx)(w.b,{path:"/mortgages",exact:!0,component:Je}),Object(m.jsx)(w.b,{path:"/scores",exact:!0,component:Pe}),Object(m.jsx)(w.b,{path:"/school",exact:!0,component:Ge}),Object(m.jsx)(w.b,{path:"/balances2",exact:!0,component:Ie}),Object(m.jsx)(w.b,{path:"/accounts",children:Object(m.jsx)(M,{})}),Object(m.jsx)(w.b,{path:"/cates",exact:!0,component:z}),Object(m.jsx)(w.b,{path:"/emp-basic",exact:!0,component:Re}),Object(m.jsx)(w.b,{path:"/cates/edit/:id",exact:!0,component:ce}),Object(m.jsx)(w.b,{path:"/cates/insert",exact:!0,component:ce}),Object(m.jsx)(w.b,{path:"/tictactoe",component:Y}),Object(m.jsx)(ke,{path:"/balances",exact:!0,component:ne}),Object(m.jsx)(ke,{path:"/stocks",component:ie}),Object(m.jsx)(w.b,{path:"/books",component:Oe}),Object(m.jsx)(w.b,{path:"/login",exact:!0,component:Ce}),Object(m.jsx)(w.b,{path:"/",exact:!0,component:ne}),Object(m.jsx)(ke,{path:"/dashboard",exact:!0,component:Ee}),Object(m.jsx)(w.b,{path:"/contacts",exact:!0,component:pe}),Object(m.jsx)(w.b,{path:"/contacts/add",exact:!0,component:ve}),Object(m.jsx)(w.b,{path:"/contacts/view/:contactId",exact:!0,component:me}),Object(m.jsx)(w.b,{path:"/contacts/edit/:contactId",exact:!0,component:ve})]})}var dn=n(248);function bn(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(C,{children:Object(m.jsxs)(u.a,{children:[Object(m.jsx)(y,{}),Object(m.jsx)(dn.a,{children:Object(m.jsx)(jn,{})})]})})})}n(229);var un=document.getElementById("root");a.a.render(Object(m.jsx)(bn,{}),un)}},[[230,1,2]]]);
//# sourceMappingURL=main.ef2d93ed.chunk.js.map