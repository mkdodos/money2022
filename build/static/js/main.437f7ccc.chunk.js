(this["webpackJsonpsocial-cool"]=this["webpackJsonpsocial-cool"]||[]).push([[0],{172:function(e,t,c){},226:function(e,t,c){},227:function(e,t,c){},230:function(e,t,c){"use strict";c.r(t);var n=c(76),a=c.n(n),r=c(1),i=c.n(r),o=c(20),l=c(33),s=c(7),j=c(249),d=c(248),b=c(58),u=c(15),O=c(113),h=(c(231),c(194),c(232),O.a.initializeApp({apiKey:"AIzaSyDUSJ5yzHvTCCSQTuONsPtOBGodjamReHc",authDomain:"money2022-173b9.firebaseapp.com",projectId:"money2022-173b9",storageBucket:"money2022-173b9.appspot.com",messagingSenderId:"944583877759",appId:"1:944583877759:web:0fd8a43af8a727a76c0b4a"})),x=O.a.firestore(),f=(O.a.storage(),O.a.initializeApp({apiKey:"AIzaSyBKVsNm8RP9VKYBgEwmyRQsitx9dncLuaI",authDomain:"social-cool-f16ba.firebaseapp.com",projectId:"social-cool-f16ba",storageBucket:"social-cool-f16ba.appspot.com",messagingSenderId:"578558980743",appId:"1:578558980743:web:4668ba80e8df3c24087e22"},"dada").firestore(),h.auth()),m=c(0),p=i.a.createContext();function v(){return Object(r.useContext)(p)}function g(e){var t=e.children,c=Object(r.useState)(),n=Object(s.a)(c,2),a=n[0],i=n[1],o=Object(r.useState)(!0),l=Object(s.a)(o,2),j=l[0],d=l[1];Object(r.useEffect)((function(){return f.onAuthStateChanged((function(e){i(e),d(!1)}))}),[]);var b={currentUser:a,login:function(e,t){return f.signInWithEmailAndPassword(e,t)},signup:function(e,t){return f.createUserWithEmailAndPassword(e,t)},logout:function(){return f.signOut()},resetPassword:function(e){return f.sendPasswordResetEmail(e)},updateEmail:function(e){return a.updateEmail(e)},updatePassword:function(e){return a.updatePassword(e)}};return Object(m.jsx)(p.Provider,{value:b,children:!j&&t})}var C=c(21);function y(){var e=i.a.useState(""),t=Object(s.a)(e,2),c=t[0],n=t[1],a=v(),r=a.currentUser,O=a.logout,h=Object(C.g)();function x(e,t){var c=t.name;n(c)}function f(){return(f=Object(l.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:h.push("/login"),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(m.jsxs)(j.a,{pointing:!0,secondary:!0,children:[Object(m.jsx)(d.a,{item:!0,icon:"setting",children:Object(m.jsxs)(d.a.Menu,{children:[Object(m.jsx)(d.a.Item,{as:u.b,to:"/accounts",name:"accounts",children:"\u5e33\u6236"}),Object(m.jsx)(d.a.Item,{as:u.b,to:"/cates",children:"\u985e\u5225"}),Object(m.jsx)(d.a.Item,{as:u.b,to:"/cates-note",children:"\u8a18\u4e8b\u985e\u5225"}),Object(m.jsx)(d.a.Divider,{}),Object(m.jsx)(d.a.Item,{as:u.b,to:"/stocks",children:"\u80a1\u7968"}),Object(m.jsx)(d.a.Item,{as:u.b,to:"/dashboard/query",children:"\u67e5\u8a62"})]})}),"mkdodos@gmail.com"==(null===r||void 0===r?void 0:r.email)&&Object(m.jsx)(j.a.Item,{as:u.b,to:"/mortgages",name:"mortgages",onClick:x,active:"mortgages"===c,children:"\u623f\u8cb8"}),Object(m.jsx)(j.a.Item,{as:u.b,to:"/dashboard",name:"dashboard",onClick:x,active:"dashboard"===c,children:"\u7d71\u8a08"}),Object(m.jsx)(j.a.Item,{as:u.b,to:"/trans",name:"trans",onClick:x,active:"trans"===c,children:"\u8f49\u5e33"}),Object(m.jsx)(j.a.Item,{as:u.b,to:"/balances",name:"balances",onClick:x,active:"balances"===c,children:"\u6536\u652f"}),Object(m.jsx)(j.a.Menu,{position:"right",children:r?Object(m.jsx)(j.a.Item,{name:"",onClick:function(){return f.apply(this,arguments)},children:Object(m.jsx)(b.a,{name:"sign-out"})}):Object(m.jsx)(j.a.Item,{name:"login",as:u.b,to:"/login",children:"Login"})})]})}var w=c(18),k=c(24),S=c(4),E=c(253),I=c(250),F=c(233),R=c(260),A=c(258),D=c(252);var B=function(e){return new Intl.NumberFormat("en-US",{currency:"USD"}).format(e)},H=c(83),L=c.n(H);function N(){var e=v().currentUser,t={name:"",prior:"",balance:""},c=i.a.useState([]),n=Object(s.a)(c,2),a=n[0],o=n[1],l=i.a.useState(t),j=Object(s.a)(l,2),d=j[0],b=j[1],u=i.a.useState(0),O=Object(s.a)(u,2),h=O[0],f=O[1],p=Object(r.useState)(-1),g=Object(s.a)(p,2),C=g[0],y=g[1],H=Object(r.useState)(!1),N=Object(s.a)(H,2),P=N[0],z=N[1],M=x.collection("accounts");function U(e){y(a.indexOf(e)),b(e),z(!0)}function q(e){b(Object(S.a)(Object(S.a)({},d),{},Object(w.a)({},e.target.name,e.target.value)))}return i.a.useEffect((function(){M.where("user","==",e.email).get().then((function(e){var t=0,c=e.docs.map((function(e){return t+=1*e.data().balance,Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id,balance:parseInt(e.data().balance)})}));c=(c=L.a.sortBy(c,"balance")).slice().reverse(),o(c),console.log(t),f(t)}))}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(E.a,{open:P,closeIcon:!0,onClose:function(){z(!1)},children:[Object(m.jsx)(E.a.Header,{children:"\u7de8\u8f2f\u5e33\u6236"}),Object(m.jsx)(E.a.Content,{children:Object(m.jsxs)(I.a,{children:[Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"\u540d\u7a31"}),Object(m.jsx)("input",{name:"name",value:d.name,onChange:q})]}),Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"\u9806\u5e8f"}),Object(m.jsx)("input",{type:"number",name:"prior",value:d.prior,onChange:q})]}),Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"\u9918\u984d"}),Object(m.jsx)("input",{type:"number",name:"balance",value:d.balance,onChange:q})]})]})}),Object(m.jsxs)(E.a.Actions,{children:[Object(m.jsx)(F.a,{floated:"left",color:"red",onClick:function(){M.doc(d.id).delete(),o(a.filter((function(e){return e.id!==d.id}))),z(!1)},children:"Delete"}),Object(m.jsx)(F.a,{primary:!0,onClick:function(){var c=d.name,n=d.balance,r=d.prior;C>-1?M.doc(d.id).update({name:c,balance:n,prior:Number(r)}).then((function(){var e=a.slice();Object.assign(e[C],d),o(e),z(!1),b(t),console.log(d.id)})):M.add({name:c,balance:n,prior:r,user:e.email}).then((function(e){z(!1),b(t),o([].concat(Object(k.a)(a),[Object(S.a)(Object(S.a)({},d),{},{id:e.id})]))}))},children:"Save"})]})]}),Object(m.jsx)(R.a,{textAlign:"center",children:Object(m.jsx)(A.a,{inverted:!0,color:"red",children:Object(m.jsx)(A.a.Value,{children:B(h)})})}),Object(m.jsx)(F.a,{onClick:function(){y(-1),z(!0)},color:"olive",children:"ADD"}),Object(m.jsxs)(D.a,{unstackable:!0,children:[Object(m.jsx)(D.a.Header,{children:Object(m.jsx)(D.a.Row,{children:[{text:"\u540d\u7a31",value:"name",type:"string"},{text:"\u9806\u5e8f",value:"prior",type:"number"},{text:"\u9918\u984d",value:"balance",type:"number"}].map((function(e,t){return Object(m.jsx)(D.a.HeaderCell,{children:e.text},t)}))})}),Object(m.jsx)(D.a.Body,{children:a.map((function(e,t){return Object(m.jsxs)(D.a.Row,{onClick:function(){U(e)},children:[Object(m.jsx)(D.a.Cell,{children:e.name}),Object(m.jsx)(D.a.Cell,{children:e.prior}),Object(m.jsx)(D.a.Cell,{children:B(e.balance)})]},e.id)}))})]})]})}function P(e){var t=e.rows,c=e.schema;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(D.a,{unstackable:!0,children:[Object(m.jsx)(D.a.Header,{children:Object(m.jsxs)(D.a.Row,{children:[c.map((function(e,t){return Object(m.jsx)(D.a.HeaderCell,{children:e.text},t)})),Object(m.jsx)(D.a.HeaderCell,{children:"#"})]})}),Object(m.jsx)(D.a.Body,{children:t.map((function(e,t){return Object(m.jsxs)("tr",{children:[c.map((function(t,c){return Object(m.jsx)("td",{children:e[t.name]},c)})),Object(m.jsx)("td",{children:Object(m.jsx)(u.b,{to:"/cates/edit/".concat(e.id),children:"Edit"})})]},t)}))})]})})}function z(){var e=v().currentUser,t=Object(r.useState)([]),c=Object(s.a)(t,2),n=c[0],a=c[1];Object(r.useEffect)((function(){x.collection("cates").where("user","==",e.email).orderBy("prior").get().then((function(e){var t=e.docs.map((function(e){return Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id})}));a(t)}))}),[]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u.b,{to:"/cates/insert",children:"\u65b0\u589e"}),Object(m.jsx)(P,{rows:n,schema:[{name:"name",text:"\u540d\u7a31",type:"text"},{name:"prior",text:"\u9806\u5e8f",type:"number"}]})]})}var M=c(55),U=c(56),q=c(109),W=c(110),T=c(261),G=function(e){Object(q.a)(c,e);var t=Object(W.a)(c);function c(){return Object(M.a)(this,c),t.apply(this,arguments)}return Object(U.a)(c,[{key:"render",value:function(){return Object(m.jsx)("button",{className:"square",onClick:this.props.onClick,children:this.props.value})}}]),c}(i.a.Component),Y=function(e){Object(q.a)(c,e);var t=Object(W.a)(c);function c(e){var n;return Object(M.a)(this,c),(n=t.call(this,e)).state={squares:Array(9).fill(null)},n}return Object(U.a)(c,[{key:"handleClick",value:function(e){var t=this.state.squares.slice();t[e]="X",this.setState({squares:t})}},{key:"renderSquare",value:function(e){var t=this;return Object(m.jsx)(G,{value:this.state.squares[e],onClick:function(){t.handleClick(e)}})}},{key:"render",value:function(){return Object(m.jsxs)(T.a,{children:[Object(m.jsxs)(T.a.Row,{children:[Object(m.jsx)(T.a.Column,{children:this.renderSquare(0)}),Object(m.jsx)(T.a.Column,{children:this.renderSquare(1)}),Object(m.jsx)(T.a.Column,{children:this.renderSquare(2)})]}),Object(m.jsxs)(T.a.Row,{children:[Object(m.jsx)(T.a.Column,{children:this.renderSquare(3)}),Object(m.jsx)(T.a.Column,{children:this.renderSquare(4)}),Object(m.jsx)(T.a.Column,{children:this.renderSquare(5)})]}),Object(m.jsxs)(T.a.Row,{children:[Object(m.jsx)(T.a.Column,{children:this.renderSquare(7)}),Object(m.jsx)(T.a.Column,{children:this.renderSquare(8)})]})]})}}]),c}(i.a.Component),V=c(38),J=c.n(V),$=c(262),X=c(111);function Q(e){e.cates;var t=e.rows,c=(e.rowsCopy,e.setRows,e.setItem),n=e.setItemCopy,a=e.setEditedIndex,i=e.setOpen,o=e.activeAccount,l=e.setIsIncome,j=(e.isIncome,e.setIsIncomeOrigin),d=e.setCate,b=(e.setAccount,e.setType),u=Object(r.useState)(""),O=Object(s.a)(u,2);O[0],O[1];return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(D.a,{unstackable:!0,children:Object(m.jsx)(D.a.Body,{children:t.map((function(e){var r;return Object(m.jsxs)(D.a.Row,{onClick:function(){!function(e){d(e.cate),b(e.type),l((function(t){var a={date:e.date,title:e.title,id:e.id};return e.income?(c(Object(S.a)(Object(S.a)({},a),{},{amt:e.income})),n(Object(S.a)(Object(S.a)({},a),{},{amt:e.income})),!0):(c(Object(S.a)(Object(S.a)({},a),{},{amt:e.expense})),n(Object(S.a)(Object(S.a)({},a),{},{amt:e.expense})),!1)})),j((function(){return!!e.income})),a(t.indexOf(e)),i(!0)}(e)},children:[Object(m.jsxs)(D.a.Cell,{children:[Object(m.jsx)($.a,{as:"h4",children:e.title}),!o&&Object(m.jsx)(X.a,{color:"teal",children:null===(r=e.account)||void 0===r?void 0:r.name}),e.cate&&Object(m.jsx)(X.a,{children:e.cate})]}),Object(m.jsxs)(D.a.Cell,{textAlign:"right",children:[e.income?Object(m.jsx)(X.a,{color:"teal",circular:!0,children:"\u5b58"}):Object(m.jsx)(X.a,{color:"orange",circular:!0,children:"\u63d0"}),Object(m.jsx)("br",{}),"$ ",e.income?e.income:e.expense+""]})]},e.id)}))})})})}var K=function(e){var t=e.rows,c=e.setRows,n=e.rowsCopy,a=e.setRowsCopy,i=e.rowsAccount,o=e.setRowsAccount,l=e.item,d=e.setItem,b=e.editedIndex,u=e.defalutItem,O=e.setEditedIndex,h=e.open,f=e.setOpen,p=(e.setActiveAccount,e.activeAccount),g=e.itemCopy,C=e.isIncome,y=e.setIsIncome,R=e.isIncomeOrigin,A=e.cates,D=e.cate,B=e.setCate,H=(e.account,e.accounts,e.setAccount,e.type),L=e.setType,N=v().currentUser,P=Object(r.useState)(!1),z=Object(s.a)(P,2),M=z[0],U=z[1],q=function(e){console.log(l),d(Object(S.a)(Object(S.a)({},l),{},Object(w.a)({},e.target.name,e.target.value)))},W=x.collection("balances");function T(e){x.collection("accounts").doc(p.id).update({balance:e});var t=i.indexOf(p),c=i.slice();Object.assign(c[t],Object(S.a)(Object(S.a)({},p),{},{balance:e})),o(c)}function G(e,t){var c=t.name;console.log(l),y("income"===c)}return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(E.a,{open:h,closeIcon:!0,onClose:function(){f(!1)},children:[Object(m.jsxs)(E.a.Header,{children:["\u7de8\u8f2f\u8868\u55ae",R?"income":"expense"]}),Object(m.jsxs)(E.a.Content,{children:[Object(m.jsxs)(j.a,{fluid:!0,widths:2,pointing:!0,secondary:!0,children:[Object(m.jsx)(j.a.Item,{color:"teal",name:"income",active:C,onClick:G,children:"\u6536\u5165"}),Object(m.jsx)(j.a.Item,{color:"orange",name:"expense",active:!C,onClick:G,children:"\u652f\u51fa"})]}),Object(m.jsxs)(I.a,{children:[Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"\u65e5\u671f"}),Object(m.jsx)("input",{name:"date",type:"date",placeholder:"",value:l.date,onChange:q})]}),Object(m.jsx)(I.a.Select,{selection:!0,fluid:!0,label:"\u985e\u5225",placeholder:"",value:D,options:A,onChange:function(e,t){B(t.value)}}),Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"\u9805\u76ee"}),Object(m.jsx)("input",{name:"title",placeholder:"",value:l.title,onChange:q})]}),Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"\u91d1\u984d"}),Object(m.jsx)("input",{name:"amt",type:"number",placeholder:"",value:l.amt,onChange:q})]}),Object(m.jsx)(I.a.Select,{fluid:!0,label:"\u7d71\u8a08\u985e\u578b",value:H,options:[{key:"m",text:"\u4e00\u822c",value:"\u4e00\u822c"},{key:"f",text:"\u8f49\u5e33",value:"\u8f49\u5e33"},{key:"o",text:"\u6295\u8cc7",value:"\u6295\u8cc7"}],onChange:function(e,t){L(t.value)}})]})]}),Object(m.jsxs)(E.a.Actions,{children:[b>-1&&Object(m.jsx)(F.a,{loading:M,floated:"left",color:"red",onClick:function(){confirm("\u78ba\u5b9a\u522a\u9664\u55ce?")&&(U(!0),W.doc(l.id).delete().then((function(){c(t.filter((function(e){return e.id!==l.id}))),a(n.filter((function(e){return e.id!==l.id}))),O(-1),d(u),f(!1),U(!1);var e=p.balance+1*l.amt;C&&(e=p.balance-1*l.amt),T(e)})))},children:"Delete"}),Object(m.jsx)(F.a,{loading:M,floated:"right",primary:!0,onClick:function(){if(-1==b){var e={date:l.date,title:l.title,user:N.email,account:p};D&&(e.cate=D),H&&(e.type=H),e=C?Object(S.a)(Object(S.a)({},e),{},{income:l.amt}):Object(S.a)(Object(S.a)({},e),{},{expense:l.amt}),U(!0),W.add(e).then((function(r){console.log(r.id);var i=Object(S.a)(Object(S.a)({},e),{},{id:r.id});c([i].concat(Object(k.a)(t))),a([i].concat(Object(k.a)(n))),U(!1),O(-1),d(u),f(!1);var o=p.balance-1*l.amt;C&&(o=p.balance+1*l.amt),T(o)}))}else{var r={date:l.date,title:l.title,user:N.email,account:p};D&&(r.cate=D),H&&(r.type=H),r=C?Object(S.a)(Object(S.a)({},r),{},{income:l.amt,expense:null}):Object(S.a)(Object(S.a)({},r),{},{expense:l.amt,income:null}),U(!0),W.doc(l.id).update(r).then((function(){var e=p.balance-1*l.amt+1*g.amt;C&&(e=1*p.balance+1*l.amt-1*g.amt),!R&&C&&(e=p.balance+1*l.amt+1*g.amt),R&&!C&&(e=p.balance-1*l.amt-1*g.amt),T(e);var n=t.slice();Object.assign(n[b],r),c(n),U(!1),O(-1),d(u),f(!1)}))}},children:"Save"})]})]})})},Z=function(e){var t=e.rows,c=e.activeAccount,n=e.accountClick,a=Object(r.useState)(0),i=Object(s.a)(a,2),o=i[0],l=i[1];return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(R.a.Group,{horizontal:!0,children:[t.slice(4*o,4*o+4).map((function(e,t){return Object(m.jsx)(R.a,{textAlign:"center",color:"teal",inverted:(null===c||void 0===c?void 0:c.name)===e.name,onClick:function(){n(e)},children:e.name},e.id)})),Object(m.jsx)(R.a,{textAlign:"center",basic:!0,color:"olive",onClick:function(){var e=t.length/4;e=Number.isInteger(e)?e:Math.ceil(e),console.log(Number.isInteger(e)),l((function(t){return t<e-1?t+1:0}))},children:Object(m.jsx)(b.a,{size:"large",name:"arrow alternate circle right outline"})})]})})};var _=c(244);function ee(e){var t=e.handleFilterDate,c=e.setFilterDate,n=e.filterDate;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(T.a,{children:Object(m.jsxs)(T.a.Row,{children:[Object(m.jsx)(T.a.Column,{width:4,children:Object(m.jsx)(F.a,{size:"small",onClick:function(){return t(-1)},children:Object(m.jsx)(b.a,{name:"arrow left"})})}),Object(m.jsx)(T.a.Column,{width:8,children:Object(m.jsx)(_.a,{fluid:!0,type:"date",value:n,onChange:function(e){return c(e.target.value)}})}),Object(m.jsx)(T.a.Column,{width:4,children:Object(m.jsx)(F.a,{size:"small",onClick:function(){return t(1)},children:Object(m.jsx)(b.a,{name:"arrow right"})})})]})})})}var te=c(245),ce=function(){var e=v(),t=e.currentUser,c=(e.logout,Object(r.useState)(!1)),n=Object(s.a)(c,2),a=n[0],i=n[1],o=Object(r.useState)([]),l=Object(s.a)(o,2),j=l[0],d=l[1],b=Object(r.useState)([]),u=Object(s.a)(b,2),O=u[0],h=u[1],f=Object(r.useState)([]),p=Object(s.a)(f,2),g=p[0],C=p[1],y=Object(r.useState)(),w=Object(s.a)(y,2),k=w[0],E=w[1],I={date:(new Date).toISOString().slice(0,10),title:"",amt:""},R=Object(r.useState)(I),D=Object(s.a)(R,2),B=D[0],H=D[1],L=Object(r.useState)(I),N=Object(s.a)(L,2),P=N[0],z=N[1],M=Object(r.useState)(-1),U=Object(s.a)(M,2),q=U[0],W=U[1],G=Object(r.useState)(!1),Y=Object(s.a)(G,2),V=Y[0],J=Y[1],$=Object(r.useState)(!1),X=Object(s.a)($,2),_=X[0],ce=X[1],ne=Object(r.useState)(),ae=Object(s.a)(ne,2),re=ae[0],ie=ae[1],oe=Object(r.useState)([]),le=Object(s.a)(oe,2),se=le[0],je=le[1],de=Object(r.useState)(),be=Object(s.a)(de,2),ue=be[0],Oe=be[1],he=Object(r.useState)([]),xe=Object(s.a)(he,2),fe=xe[0],me=xe[1],pe=Object(r.useState)(),ve=Object(s.a)(pe,2),ge=ve[0],Ce=ve[1],ye=Object(r.useState)((new Date).toISOString().slice(0,10)),we=Object(s.a)(ye,2),ke=we[0],Se=we[1];Object(r.useEffect)((function(){var e=x.collection("cates").orderBy("prior");t&&(e=e.where("user","==",t.email)),e=e.get().then((function(e){var t=e.docs.map((function(e){var t=e.data();return{text:t.name,value:t.name,key:e.id}}));je(t)})),x.collection("accounts").where("user","==",t.email).orderBy("prior").get().then((function(e){var t=e.docs.map((function(e){return Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id})})),c=e.docs.map((function(e){var t=e.data();return{text:t.name,value:t.name,key:e.id}}));me(c),E(t[0]),C(t),Ee(t[0])}))}),[]),Object(r.useEffect)((function(){Ee(k)}),[ke]);var Ee=function(e){var c=x.collection("balances");t&&(c=c.where("user","==",null===t||void 0===t?void 0:t.email)),c.where("date","==",ke).get().then((function(t){var c=t.docs.map((function(e){return Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id})}));h(c),d(c.filter((function(t){return t.account&&t.account.name==(null===e||void 0===e?void 0:e.name)})))}))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(T.a,{children:Object(m.jsx)(T.a.Row,{children:Object(m.jsx)(T.a.Column,{children:Object(m.jsx)(Z,{rows:g,activeAccount:k,accountClick:function(e){E(e),d(O.filter((function(t){return t.account&&t.account.name==e.name})))}})})})}),k&&Object(m.jsx)(T.a,{columns:2,children:Object(m.jsxs)(T.a.Row,{children:[Object(m.jsx)(T.a.Column,{children:Object(m.jsx)(A.a,{horizontal:!0,children:Object(m.jsx)(A.a.Value,{children:null===k||void 0===k?void 0:k.balance})})}),Object(m.jsx)(T.a.Column,{verticalAlign:"middle",children:Object(m.jsx)(F.a,{onClick:function(){i(!0),H(I),W(-1)},floated:"right",color:"yellow",children:"ADD"})})]})}),Object(m.jsx)(te.a,{}),Object(m.jsx)(ee,{filterDate:ke,setFilterDate:Se,handleFilterDate:function(e){var t=function(e,t){var c=new Date(e);return c.setDate(c.getDate()+t),c}(ke,e).toISOString().slice(0,10);Se(t)}}),Object(m.jsx)(T.a,{children:Object(m.jsx)(T.a.Row,{children:Object(m.jsx)(T.a.Column,{children:Object(m.jsx)(Q,{setType:Ce,setAccount:Oe,setCate:ie,cates:se,setOpen:i,rows:j,rowsCopy:O,setRows:d,item:B,setItem:H,setItemCopy:z,isIncome:V,setIsIncome:J,isIncomeOrigin:_,setIsIncomeOrigin:ce,setEditedIndex:W,activeAccount:k})})})}),Object(m.jsx)(K,{type:ge,setType:Ce,cates:se,cate:re,setCate:ie,account:ue,accounts:fe,setAccount:Oe,isIncomeOrigin:_,setIsIncome:J,isIncome:V,defalutItem:I,rows:j,setRows:d,setRowsCopy:h,rowsCopy:O,rowsAccount:g,setRowsAccount:C,item:B,setItem:H,editedIndex:q,setEditedIndex:W,open:a,setOpen:i,setActiveAccount:E,activeAccount:k,itemCopy:P})]})};function ne(){var e=v().currentUser,t=Object(C.g)(),c=Object(C.h)().id,n=Object(r.useState)({name:"",prior:""}),a=Object(s.a)(n,2),i=a[0],o=a[1];Object(r.useEffect)((function(){x.collection("cates").doc(c).get().then((function(e){e.exists?(o(e.data()),console.log("Document data:",e.data())):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))}),[]);var l=function(e){o(Object(S.a)(Object(S.a)({},i),{},Object(w.a)({},e.target.name,e.target.value)))};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(I.a,{onSubmit:function(){c?x.collection("cates").doc(c).update(Object(S.a)(Object(S.a)({},i),{},{prior:Number(i.prior)})).then((function(){t.push("/cates")})):x.collection("cates").add(Object(S.a)(Object(S.a)({},i),{},{prior:Number(i.prior),user:e.email})).then((function(){t.push("/cates")}))},children:[Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"\u540d\u7a31"}),Object(m.jsx)("input",{name:"name",placeholder:"",value:i.name,onChange:l})]}),Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"\u9806\u5e8f"}),Object(m.jsx)("input",{type:"number",name:"prior",placeholder:"",value:i.prior,onChange:l})]}),Object(m.jsx)(F.a,{type:"submit",primary:!0,children:"Save"})]})})}function ae(e){var t=e.defalutItem,c=e.schema,n=i.a.useState([]),a=Object(s.a)(n,2),r=a[0],o=a[1],l=i.a.useState(t),j=Object(s.a)(l,2),d=j[0],b=j[1],u=i.a.useState(-1),O=Object(s.a)(u,2),h=O[0],f=O[1],p=i.a.useState(!1),v=Object(s.a)(p,2),g=v[0],C=v[1],y=x.collection(e.collectionName);return i.a.useEffect((function(){y.get().then((function(e){var t=e.docs.map((function(e){return Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id})}));o(t)}))}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(E.a,{open:g,closeIcon:!0,onClose:function(){return C(!1)},children:[Object(m.jsx)(E.a.Header,{children:"\u7de8\u8f2f\u8868\u55ae"}),Object(m.jsx)(E.a.Content,{children:Object(m.jsx)(I.a,{children:c.map((function(e,t){return Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:e.text}),Object(m.jsx)(_.a,{placeholder:e.text,name:e.name,value:d[e.name],type:e.type,onChange:function(e){b(Object(S.a)(Object(S.a)({},d),{},Object(w.a)({},e.target.name,e.target.value)))}})]},t)}))})}),Object(m.jsxs)(E.a.Actions,{children:[Object(m.jsx)("button",{className:"ui button blue",onClick:function(){if(-1==h){var e=Object(S.a)(Object(S.a)({},d),{},{id:Date.now()});y.add(e),o([].concat(Object(k.a)(r),[e]))}else{y.doc(d.id).update(d);var c=r.slice();Object.assign(c[h],d),o(c),f(-1)}b(t),C(!1)},children:"\u5132\u5b58"}),-1!==h&&Object(m.jsx)("button",{className:"ui button red left floated",onClick:function(){if(confirm("\u78ba\u5b9a\u522a\u9664\u55ce?")){y.doc(d.id).delete();var e=r.filter((function(e){return e.id!==d.id}));o(e),C(!1)}},children:"\u522a\u9664"})]})]}),Object(m.jsx)("button",{className:"ui button",onClick:function(){C(!0),b(t),f(-1)},children:"\u65b0\u589e"}),Object(m.jsx)(re,{edit:function(e){C(!0),f(r.indexOf(e)),b(e)},schema:c,rows:r,dataRow:e.dataRow})]})}var re=function(e){Object(q.a)(c,e);var t=Object(W.a)(c);function c(e){return Object(M.a)(this,c),t.call(this,e)}return Object(U.a)(c,[{key:"render",value:function(){var e=this;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(D.a,{unstackable:!0,children:[Object(m.jsx)(D.a.Header,{children:Object(m.jsxs)(D.a.Row,{children:[this.props.schema.map((function(e,t){return Object(m.jsx)(D.a.HeaderCell,{children:e.text},t)})),Object(m.jsx)(D.a.HeaderCell,{children:"#"})]})}),Object(m.jsx)(D.a.Body,{children:this.props.rows.map((function(t,c){return Object(m.jsxs)("tr",{children:[e.props.dataRow?e.props.dataRow:e.props.schema.map((function(e,c){return Object(m.jsx)("td",{children:t[e.name]},c)})),Object(m.jsx)("td",{onClick:function(){return e.props.edit(t)},children:Object(m.jsx)("a",{href:"#",children:"\u7de8\u8f2f"})})]},c)}))})]})})}}]),c}(i.a.Component);function ie(){var e=[{name:"name",text:"\u540d\u7a31",type:"text"},{name:"qty",text:"\u80a1\u6578",type:"number"},{name:"price",text:"\u73fe\u50f9",type:"number"},{name:"cost",text:"\u6210\u672c",type:"number"}];e.map((function(e,t){return Object(m.jsx)("td",{children:"A"},t)}));return Object(m.jsx)(ae,{schema:e,defalutItem:{name:"",qty:"",price:"",cost:""},collectionName:"stocks"})}function oe(e){var t=e.rows,c=e.onChange,n=e.value,a=e.text;return Object(m.jsx)(d.a,{value:n,fluid:!0,placeholder:a,selection:!0,options:t,onChange:c})}c(172);function le(e){var t=e.options,c=e.user,n=Object(r.useState)(),a=Object(s.a)(n,2),i=a[0],o=a[1],l=Object(r.useState)(),j=Object(s.a)(l,2),d=j[0],u=j[1],O=Object(r.useState)(""),h=Object(s.a)(O,2),f=h[0],p=h[1],v=Object(r.useState)(),g=Object(s.a)(v,2),C=g[0],y=g[1],w=Object(r.useState)(),k=Object(s.a)(w,2),S=k[0],I=k[1],R=Object(r.useState)(!1),A=Object(s.a)(R,2),D=A[0],B=A[1],H=Object(r.useState)(""),L=Object(s.a)(H,2),N=L[0],P=L[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(E.a,{open:D,onOpen:function(){return B(!0)},children:[Object(m.jsx)($.a,{icon:"archive",content:"\u8f49\u5e33\u6210\u529f !"}),Object(m.jsx)(E.a.Content,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)(X.a,{basic:!0,color:"teal",size:"large",children:d}),Object(m.jsx)(b.a,{name:"arrow right"}),Object(m.jsxs)(X.a,{size:"large",color:"teal",children:["$",f]})," ",Object(m.jsx)(b.a,{name:"arrow right"})," ",Object(m.jsx)(X.a,{basic:!0,color:"teal",size:"large",children:S})," "]})}),Object(m.jsx)(E.a.Actions,{children:Object(m.jsxs)(F.a,{color:"green",onClick:function(){p(""),o(""),y(""),B(!1)},children:[Object(m.jsx)(b.a,{name:"checkmark"})," \u95dc\u9589"]})})]}),Object(m.jsx)("div",{className:"trans-container",children:Object(m.jsxs)("div",{className:"trans-card",children:[Object(m.jsx)("div",{className:"header",children:"\u8f49\u5e33\u4f5c\u696d"}),Object(m.jsx)("div",{className:"acc",children:Object(m.jsx)(oe,{text:"\u8f49\u51fa\u5e33\u6236",rows:t,onChange:function(e,t){o(t.value);var c=t.options.filter((function(e){return e.key==t.value}))[0].text;u(c)},value:i})}),Object(m.jsx)("div",{className:"acc",children:Object(m.jsx)(_.a,{value:f,type:"number",onChange:function(e){return p(e.target.value)},label:"$",fluid:!0,placeholder:"\u8f49\u5e33\u91d1\u984d"})}),Object(m.jsx)("div",{className:"acc",children:Object(m.jsx)(oe,{text:"\u8f49\u5165\u5e33\u6236",rows:t,onChange:function(e,t){y(t.value);var c=t.options.filter((function(e){return e.key==t.value}))[0].text;I(c)},value:C})}),Object(m.jsx)("div",{className:"acc",children:Object(m.jsx)(_.a,{value:N,type:"text",onChange:function(e){return P(e.target.value)},fluid:!0,placeholder:"\u5099\u8a3b"})}),Object(m.jsx)("div",{className:"acc footer",children:Object(m.jsx)(F.a,{fluid:!0,color:"teal",onClick:function(){x.collection("accounts").doc(i).get().then((function(e){x.collection("accounts").doc(i).update({balance:Number(e.data().balance)-f}),x.collection("balances").add({account:e.data(),cate:"",date:(new Date).toISOString().slice(0,10),expense:f,title:"[".concat(S,"] ").concat(N),user:c,type:"\u8f49\u5e33"})})),x.collection("accounts").doc(C).get().then((function(e){x.collection("accounts").doc(C).update({balance:Number(e.data().balance)+Number(f)}).then((function(){})),x.collection("balances").add({account:e.data(),cate:"",date:(new Date).toISOString().slice(0,10),income:f,title:"[".concat(d,"] ").concat(N),user:c,type:"\u8f49\u5e33"})})),B(!0)},children:"\u78ba\u5b9a"})})]})})]})}function se(){var e=v().currentUser,t=Object(r.useState)([]),c=Object(s.a)(t,2),n=(c[0],c[1],Object(r.useState)([])),a=Object(s.a)(n,2),i=a[0],o=a[1];return Object(r.useEffect)((function(){console.clear(),x.collection("accounts").where("user","==",e.email).orderBy("prior").get().then((function(e){e.docs.map((function(e){return Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id})}));var t=e.docs.map((function(e){var t=e.data();return{key:e.id,text:t.name,value:e.id}}));o(t)}))}),[]),Object(m.jsx)("div",{children:Object(m.jsx)(le,{options:i,user:null===e||void 0===e?void 0:e.email})})}var je=Object(r.createContext)(),de=function(e){var t=x.collection(e.collectionName);Object(r.useEffect)((function(){t.get().then((function(e){var t=e.docs.map((function(e){return Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id})}));i(t)}))}),[]);var c=Object(r.useState)([]),n=Object(s.a)(c,2),a=n[0],i=n[1],o={name:"",price:""},l=Object(r.useState)(o),j=Object(s.a)(l,2),d=j[0],b=j[1],u=Object(r.useState)(-1),O=Object(s.a)(u,2),h=O[0],f=O[1],p=Object(r.useState)(!1),v=Object(s.a)(p,2),g=v[0],C=v[1];return Object(m.jsx)(je.Provider,{value:{books:a,editedBook:d,open:g,removeBook:function(e){t.doc(e).delete(),i(a.filter((function(t){return t.id!==e})))},editBook:function(e){b(e),f(a.indexOf(e)),C(!0)},updateBook:function(e){b(e)},saveBook:function(e){if(-1==h)t.add(e).then((function(t){i([].concat(Object(k.a)(a),[Object(S.a)(Object(S.a)({},e),{},{id:t.id})]))}));else{t.doc(e.id).update(e);var c=a.slice();Object.assign(c[h],e),i(c)}b(o),f(-1),C(!1)},openForm:function(){f(-1),b(o),C(!0)},closeForm:function(){f(-1),b(o),C(!1)}},children:e.children})},be=function(){var e=Object(r.useContext)(je),t=e.editBook,c=e.books,n=e.removeBook,a=e.openForm;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)($.a,{children:c.length}),Object(m.jsx)(F.a,{onClick:function(){a()},children:"ADD"}),Object(m.jsxs)(D.a,{unstackable:!0,children:[Object(m.jsx)(D.a.Header,{children:Object(m.jsxs)(D.a.Row,{children:[Object(m.jsx)(D.a.HeaderCell,{children:"\u66f8\u540d"}),Object(m.jsx)(D.a.HeaderCell,{children:"\u4f5c\u8005"}),Object(m.jsx)(D.a.HeaderCell,{children:"#"}),Object(m.jsx)(D.a.HeaderCell,{children:"#"})]})}),Object(m.jsx)(D.a.Body,{children:c.map((function(e){return Object(m.jsxs)(D.a.Row,{children:[Object(m.jsx)(D.a.Cell,{children:e.title}),Object(m.jsx)(D.a.Cell,{children:e.author}),Object(m.jsx)(D.a.Cell,{onClick:function(){n(e.id)},children:"Delete"}),Object(m.jsx)(D.a.Cell,{onClick:function(){t(e)},children:"Edit"})]},e.id)}))})]})]})},ue=function(){var e=Object(r.useContext)(je),t=e.editBook,c=e.books,n=e.removeBook,a=e.openForm;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)($.a,{children:c.length}),Object(m.jsx)(F.a,{onClick:function(){console.log("open"),a()},children:"ADD"}),Object(m.jsxs)(D.a,{unstackable:!0,children:[Object(m.jsx)(D.a.Header,{children:Object(m.jsxs)(D.a.Row,{children:[Object(m.jsx)(D.a.HeaderCell,{children:"\u66f8\u540d"}),Object(m.jsx)(D.a.HeaderCell,{children:"\u4f5c\u8005"}),Object(m.jsx)(D.a.HeaderCell,{children:"Qty"}),Object(m.jsx)(D.a.HeaderCell,{children:"#"}),Object(m.jsx)(D.a.HeaderCell,{children:"#"})]})}),Object(m.jsx)(D.a.Body,{children:c.map((function(e){return Object(m.jsxs)(D.a.Row,{children:[Object(m.jsx)(D.a.Cell,{children:e.name}),Object(m.jsx)(D.a.Cell,{children:e.price}),Object(m.jsx)(D.a.Cell,{children:e.qty}),Object(m.jsx)(D.a.Cell,{onClick:function(){n(e.id)},children:"Delete"}),Object(m.jsx)(D.a.Cell,{onClick:function(){t(e)},children:"Edit"})]},e.id)}))})]})]})},Oe=function(){var e=Object(r.useContext)(je),t=e.editedBook,c=e.updateBook,n=e.saveBook,a=e.open,i=e.closeForm,o=Object(r.useState)(""),l=Object(s.a)(o,2),j=(l[0],l[1]),d=Object(r.useState)(""),b=Object(s.a)(d,2),u=(b[0],b[1]);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(E.a,{open:a,closeIcon:!0,onClose:i,children:[Object(m.jsx)(E.a.Header,{children:"\u7de8\u8f2f"}),Object(m.jsx)(E.a.Content,{children:Object(m.jsxs)(I.a,{children:[Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"Title"}),Object(m.jsx)(_.a,{placeholder:"book title",name:"price",value:t.price,type:"text",onChange:function(e){c(Object(S.a)(Object(S.a)({},t),{},Object(w.a)({},e.target.name,e.target.value)))}})]}),Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"Author"}),Object(m.jsx)(_.a,{placeholder:"book author",name:"author",value:t.author,type:"text",onChange:function(e){c(Object(S.a)(Object(S.a)({},t),{},Object(w.a)({},e.target.name,e.target.value)))}})]})]})}),Object(m.jsx)(E.a.Actions,{children:Object(m.jsx)(F.a,{onClick:function(){n(t),j(""),u("")},children:"Update"})})]})})};var he=function(){function e(){Object(M.a)(this,e)}return Object(U.a)(e,null,[{key:"getAllContacts",value:function(){var e=[];return x.collection("cates").get().then((function(t){t.docs.map((function(t){e.push(Object(S.a)({},t.data()))}))})),e}}]),e}();he.serverURL="http://localhost:9000";var xe=function(){var e=Object(r.useState)({loading:!1,contacts:[],errorMessage:""}),t=Object(s.a)(e,2),c=t[0],n=t[1];Object(r.useEffect)((function(){n(Object(S.a)(Object(S.a)({},c),{},{loading:!1}));var e=he.getAllContacts();n(Object(S.a)(Object(S.a)({},c),{},{loading:!1,contacts:e})),console.log(e)}),[]);var a=c.contacts;return Object(m.jsx)("pre",{children:JSON.stringify(a)})},fe=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(xe,{}),Object(m.jsxs)(de,{collectionName:"stocks",children:[Object(m.jsx)(Oe,{}),Object(m.jsx)(ue,{})]}),Object(m.jsxs)(de,{collectionName:"books",children:[Object(m.jsx)(Oe,{}),Object(m.jsx)(be,{})]})]})},me=function(){function e(){Object(M.a)(this,e)}return Object(U.a)(e,null,[{key:"getAllContacts",value:function(){var e="".concat(this.serverURL,"/contacts");return J.a.get(e)}},{key:"getContact",value:function(e){var t="".concat(this.serverURL,"/contacts/").concat(e);return J.a.get(t)}},{key:"AddContact",value:function(e){var t="".concat(this.serverURL,"/contacts");return J.a.post(t,e)}},{key:"UpdateContact",value:function(e){var t="".concat(this.serverURL,"/contacts/").concat(e.id);return J.a.put(t,e)}},{key:"DeleteContact",value:function(e){var t="".concat(this.serverURL,"/contacts/").concat(e);return J.a.delete(t)}}]),e}();me.serverURL="http://192.168.0.12:9000";var pe=c.p+"static/media/spin.0d8837f6.gif";function ve(){return Object(m.jsx)("div",{className:"ui basic segment",children:Object(m.jsx)("img",{src:pe,className:"ui centered medium image",style:{width:"100px"}})})}var ge=function(){var e=Object(r.useState)({loading:!1,contacts:[]}),t=Object(s.a)(e,2),c=t[0],n=t[1];Object(r.useEffect)(Object(l.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(S.a)(Object(S.a)({},c),{},{loading:!0})),e.next=3,J.a.get("http://192.168.0.12:9000/contacts");case 3:t=e.sent,n(Object(S.a)(Object(S.a)({},c),{},{loading:!1,contacts:t.data}));case 5:case"end":return e.stop()}}),e)}))),[]);var a=c.contacts,i=c.loading;return Object(m.jsx)(m.Fragment,{children:i?Object(m.jsx)(ve,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(F.a,{children:Object(m.jsx)(u.b,{to:"/contacts/add",children:"ADD"})}),Object(m.jsxs)(D.a,{unstackable:!0,children:[Object(m.jsx)(D.a.Header,{children:Object(m.jsxs)(D.a.Row,{children:[Object(m.jsx)(D.a.HeaderCell,{children:"\u540d\u7a31"}),Object(m.jsx)(D.a.HeaderCell,{children:"\u91d1\u984d"}),Object(m.jsx)(D.a.HeaderCell,{children:"#"}),Object(m.jsx)(D.a.HeaderCell,{children:"#"})]})}),Object(m.jsx)(D.a.Body,{children:a.map((function(e){return Object(m.jsxs)(D.a.Row,{children:[Object(m.jsx)(D.a.Cell,{children:e.name}),Object(m.jsx)(D.a.Cell,{children:e.amt}),Object(m.jsx)(D.a.Cell,{children:Object(m.jsx)(u.b,{to:"/contacts/edit/".concat(e.id),children:"Edit"})}),Object(m.jsx)(D.a.Cell,{children:Object(m.jsx)(u.b,{to:"/contacts/view/".concat(e.id),children:"View"})})]},e.id)}))})]})]})})};function Ce(){var e=Object(C.h)().contactId;return Object(r.useEffect)(Object(l.a)(Object(o.a)().mark((function t(){var c;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me.getContact(e);case 2:c=t.sent,console.log(c.data);case 4:case"end":return t.stop()}}),t)}))),[]),Object(m.jsx)("div",{children:e})}function ye(){var e=Object(C.g)(),t=Object(C.h)().contactId;Object(r.useEffect)(Object(l.a)(Object(o.a)().mark((function e(){var c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,me.getContact(t);case 4:c=e.sent,i(c.data);case 6:case"end":return e.stop()}}),e)}))),[]);var c=Object(r.useState)({name:"",amt:""}),n=Object(s.a)(c,2),a=n[0],i=n[1],j=function(e){i(Object(S.a)(Object(S.a)({},a),{},Object(w.a)({},e.target.name,e.target.value)))},d=function(){var c=Object(l.a)(Object(o.a)().mark((function c(){return Object(o.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!t){c.next=5;break}return c.next=3,me.UpdateContact(a);case 3:c.next=7;break;case 5:return c.next=7,me.AddContact(a);case 7:e.push("/contacts"),console.log("save");case 9:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}(),b=function(){var c=Object(l.a)(Object(o.a)().mark((function c(){return Object(o.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!t){c.next=3;break}return c.next=3,me.DeleteContact(a.id);case 3:e.push("/contacts");case 4:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[" ",Object(m.jsxs)(I.a,{onSubmit:d,children:[Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"\u540d\u7a31"}),Object(m.jsx)("input",{name:"name",placeholder:"",value:a.name,onChange:j})]}),Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"\u91d1\u984d"}),Object(m.jsx)("input",{name:"amt",placeholder:"",value:a.amt,onChange:j})]}),Object(m.jsx)(F.a,{type:"submit",primary:!0,children:"Save"})]}),Object(m.jsx)(F.a,{floated:"right",onClick:b,children:"Delete"})]})}var we=c(255);function ke(){var e=Object(r.useRef)(),t=Object(r.useRef)(),c=v().login,n=Object(r.useState)(""),a=Object(s.a)(n,2),i=(a[0],a[1]),j=Object(r.useState)(!1),d=Object(s.a)(j,2),u=(d[0],d[1]),O=Object(C.g)();function h(){return(h=Object(l.a)(Object(o.a)().mark((function n(a){return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,i(""),u(!0),n.next=6,c(e.current.value,t.current.value);case 6:O.push("/balances"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),i("Failed to log in");case 12:u(!1);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))).apply(this,arguments)}return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(we.a,{fluid:!0,children:[Object(m.jsx)(we.a.Content,{textAlign:"center",header:"Money 2022"}),Object(m.jsx)(we.a.Content,{children:Object(m.jsxs)(I.a,{size:"large",onSubmit:function(e){return h.apply(this,arguments)},children:[Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"Email"}),Object(m.jsx)("input",{ref:e,defaultValue:"mkdodos@gmail.com"})]}),Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"Password"}),Object(m.jsx)("input",{ref:t,defaultValue:"123456"})]}),Object(m.jsx)(F.a,{fluid:!0,type:"submit",size:"large",color:"blue",children:"\u767b\u5165"})]})}),Object(m.jsxs)(we.a.Content,{extra:!0,children:[Object(m.jsx)(b.a,{name:"user"}),"4 Friends"]})]})})}var Se=c(177),Ee=["component"];function Ie(e){var t=e.component,c=Object(Se.a)(e,Ee),n=v().currentUser;return Object(m.jsx)(C.b,Object(S.a)(Object(S.a)({},c),{},{render:function(e){return n?Object(m.jsx)(t,Object(S.a)({},e)):Object(m.jsx)(C.a,{to:"/login"})}}))}var Fe=[{text:2023,value:2023,key:2023},{text:2022,value:2022,key:2022}];function Re(e){return Object(m.jsxs)(j.a,{widths:4,children:[Object(m.jsx)(j.a.Item,{children:Object(m.jsx)(d.a,{options:Fe,value:e.year,onChange:e.onYearChange})}),Object(m.jsx)(j.a.Item,{children:Object(m.jsx)(F.a,{onClick:e.onMinusClick,children:"-"})}),Object(m.jsx)(j.a.Item,{children:Object(m.jsx)(F.a,{primary:!0,onDoubleClick:e.onDoubleClick,onClick:e.onClick,children:e.text})}),Object(m.jsx)(j.a.Item,{children:Object(m.jsx)(F.a,{onClick:e.onPlusClick,children:"+"})})]})}function Ae(){var e=Object(r.useState)(0),t=Object(s.a)(e,2),c=t[0],n=t[1],a=v().currentUser;var i=Object(r.useReducer)((function(e,t){switch(t.type){case"sort":return e.column===t.column?Object(S.a)(Object(S.a)({},e),{},{data:e.data.slice().reverse(),direction:"ascending"===e.direction?"descending":"ascending"}):Object(S.a)(Object(S.a)({},e),{},{column:t.column,data:L.a.sortBy(e.data,[t.column]),direction:"ascending"});case"setData":return{data:t.data,dataCopy:t.data};case"filterData":return Object(S.a)(Object(S.a)({},e),{},{data:t.data});case"copyData":return Object(S.a)(Object(S.a)({},e),{},{data:e.dataCopy});default:throw new Error}}),{column:null,data:[],dataCopy:[],direction:null}),o=Object(s.a)(i,2),l=o[0],j=o[1],d=Object(r.useState)((new Date).getMonth()+1),b=Object(s.a)(d,2),u=b[0],O=b[1],h=Object(r.useState)((new Date).getFullYear()),f=Object(s.a)(h,2),p=f[0],g=f[1],C=(l.column,l.data),y=l.direction,w=l.dataCopy;function k(e){var t=0;return e.map((function(e){t+=1*e.expense})),t}Object(r.useEffect)((function(){var e="";e=u>=10?u:"0"+u,x.collection("balances").where("date",">=","".concat(p,"-").concat(e,"-01")).where("date","<=","".concat(p,"-").concat(e,"-31")).where("user","==",a.email).get().then((function(e){var t=e.docs.map((function(e){return Object(S.a)(Object(S.a)({id:e.id},e.data()),{},{expense:parseInt(e.data().expense)})})).filter((function(e){return e.expense>0&&"\u8f49\u5e33"!==e.type})),c=0;t.map((function(e){c+=1*e.expense})),n(c),j({type:"setData",data:t,dataCopy:t})}))}),[u,p]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Re,{text:"".concat(u," \u6708"),year:p,onYearChange:function(e,t){var c=t.value;g(c),console.log(c)},onYearClick:function(e){switch(e.detail){case 1:console.log(" click"),g((function(e){return e-1}));break;case 2:console.log("double click");break;case 3:console.log("triple click")}},onPlusClick:function(){O(12==u?1:u+1)},onClick:function(){O((new Date).getMonth()+1)},onMinusClick:function(){O(1==u?12:u-1)}}),Object(m.jsx)(R.a,{textAlign:"center",children:Object(m.jsx)(A.a,{color:"blue",onClick:function(){console.log(w),j({type:"copyData"}),n(k(w))},children:Object(m.jsx)(A.a.Value,{children:B(c)})})}),Object(m.jsxs)(D.a,{celled:!0,unstackable:!0,sortable:!0,children:[Object(m.jsx)(D.a.Header,{children:Object(m.jsxs)(D.a.Row,{children:[Object(m.jsx)(D.a.HeaderCell,{width:3,sorted:"date"===l.column?y:null,onClick:function(){j({type:"sort",column:"date"})},children:"\u65e5\u671f"}),Object(m.jsx)(D.a.HeaderCell,{sorted:"title"===l.column?y:null,onClick:function(){j({type:"sort",column:"title"})},children:"\u9805\u76ee"}),Object(m.jsx)(D.a.HeaderCell,{sorted:"expense"===l.column?y:null,onClick:function(){j({type:"sort",column:"expense"}),console.log("d")},children:"\u652f\u51fa"})]})}),Object(m.jsx)(D.a.Body,{children:C.map((function(e){return Object(m.jsxs)(D.a.Row,{children:[Object(m.jsx)(D.a.Cell,{onClick:function(){var t=C.filter((function(t){return t.date==e.date}));j({type:"filterData",data:t}),n(k(t))},children:e.date.slice(5,10)}),Object(m.jsx)(D.a.Cell,{children:e.title?e.title:Object(m.jsx)(X.a,{children:e.cate})}),Object(m.jsx)(D.a.Cell,{children:e.expense})]},e.id)}))})]})]})}var De=c(178);function Be(){var e=Object(C.h)().id,t=Object(r.useState)({}),c=Object(s.a)(t,2),n=c[0],a=c[1],i=Object(r.useState)(140),o=Object(s.a)(i,2),l=(o[0],o[1],Object(r.useState)(0)),j=Object(s.a)(l,2),d=j[0],b=j[1],u=Object(r.useState)([]),O=Object(s.a)(u,2),h=(O[0],O[1],Object(C.g)());Object(r.useEffect)((function(){x.collection("food").doc(e).get().then((function(t){a(Object(S.a)(Object(S.a)({},t.data()),{},{id:e}))}));var t=localStorage.getItem("cart");if(t){var c=(t=JSON.parse(t)).find((function(t){return t.id==e}));c&&b(c.qty)}}),[]);return Object(m.jsxs)("div",{children:[Object(m.jsx)(R.a.Group,{horizontal:!0,children:Object(m.jsxs)(R.a,{children:[Object(m.jsx)(De.a,{src:n.imageUrl,size:"small",color:"pink"}),Object(m.jsxs)($.a,{as:"h3",children:[" ",n.name," "]}),Object(m.jsxs)($.a,{as:"h4",children:[" $",n.price]}),Object(m.jsx)(te.a,{}),Object(m.jsx)(F.a,{circular:!0,icon:"minus",size:"small",onClick:function(){b((function(e){return e-1}))}}),Object(m.jsx)(F.a,{basic:!0,children:d}),Object(m.jsx)(F.a,{circular:!0,icon:"plus",size:"small",color:"pink",onClick:function(){b((function(e){return e+1}))}}),Object(m.jsx)(F.a,{color:"pink",floated:"right",onClick:function(){var t=localStorage.getItem("cart"),c=(t=t?JSON.parse(t):[]).findIndex((function(t){return t.id==e})),a=Object(S.a)(Object(S.a)({},n),{},{qty:d});c>-1?(Object.assign(t[c],a),console.log("yes")):(t.push(a),console.log("no"));var r=JSON.stringify(t);localStorage.setItem("cart",r),console.log(r),h.push("/cart")},children:"\u52a0\u5165\u8cfc\u7269\u8eca"})]})}),Object(m.jsx)(F.a,{color:"pink",fluid:!0,onClick:function(){h.push("/cart")},children:"\u67e5\u770b\u8cfc\u7269\u8eca"})]})}c.p;function He(e){var t=e.rows,c=Object(C.g)(),n=function(e){c.push("prod/".concat(e)),console.log("toc")};return Object(m.jsx)("div",{children:t.map((function(e,c){return Object(m.jsx)("div",{children:c%2==0&&Object(m.jsxs)(we.a.Group,{itemsPerRow:2,children:[Object(m.jsxs)(we.a,{onClick:function(){return n(e.id)},children:[Object(m.jsx)(De.a,{src:e.imageUrl,style:{margin:"10px"}}),Object(m.jsxs)(we.a.Content,{children:[Object(m.jsx)(we.a.Header,{children:e.name}),Object(m.jsxs)(we.a.Description,{children:["$",e.price]})]})]}),c<t.length-1&&Object(m.jsxs)(we.a,{onClick:function(){return n(t[c+1].id)},children:[Object(m.jsx)(De.a,{src:t[c+1].imageUrl,style:{margin:"10px"}}),Object(m.jsxs)(we.a.Content,{children:[Object(m.jsx)(we.a.Header,{children:t[c+1].name}),Object(m.jsxs)(we.a.Description,{children:["$",t[c+1].price]})]})]})]})},e.id)}))})}var Le=c(251);function Ne(){var e=Object(C.g)(),t=Object(r.useState)([]),c=Object(s.a)(t,2),n=c[0],a=c[1],i=Object(r.useState)(0),o=Object(s.a)(i,2),l=o[0],j=o[1];Object(r.useEffect)((function(){var e=localStorage.getItem("cart");if(e){e=JSON.parse(e),a(e);var t=e.reduce((function(e,t){return e+t.price*t.qty}),0);j(t)}}),[]);return Object(m.jsxs)("div",{children:[Object(m.jsx)(Le.a.Group,{divided:!0,unstackable:!0,children:n.map((function(e){return Object(m.jsxs)(Le.a,{children:[Object(m.jsx)(Le.a.Image,{size:"mini",src:e.imageUrl}),Object(m.jsxs)(Le.a.Content,{verticalAlign:"middle",children:[Object(m.jsxs)(Le.a.Header,{as:"a",children:[e.name," $",e.price]}),Object(m.jsxs)(Le.a.Description,{children:[Object(m.jsx)(F.a,{circular:!0,icon:"minus",size:"small",onClick:function(){!function(e){var t=n.indexOf(e),c=n.slice();e.qty=e.qty-1,Object.assign(c[t],e),a(c),localStorage.setItem("cart",JSON.stringify(c));var r=c.reduce((function(e,t){return e+t.price*t.qty}),0);j(r)}(e)}}),Object(m.jsx)(F.a,{basic:!0,children:e.qty}),Object(m.jsx)(F.a,{circular:!0,icon:"plus",size:"small",color:"pink",onClick:function(){!function(e){var t=n.indexOf(e);e.qty=e.qty+1;var c=n.slice();Object.assign(c[t],e),a(c),localStorage.setItem("cart",JSON.stringify(c));var r=c.reduce((function(e,t){return e+t.price*t.qty}),0);j(r)}(e)}})]})]})]},e.id)}))}),Object(m.jsxs)(F.a,{fluid:!0,as:"div",labelPosition:"left",onClick:function(){localStorage.removeItem("cart"),e.push("/food")},children:[Object(m.jsxs)(X.a,{as:"a",color:"pink",basic:!0,children:["$",l]}),Object(m.jsx)(F.a,{fluid:!0,color:"pink",children:"\u7d50\u5e33"})]})]})}function Pe(){var e=Object(C.g)(),t=Object(r.useState)([]),c=Object(s.a)(t,2),n=c[0],a=c[1];Object(r.useEffect)((function(){x.collection("food").get().then((function(e){var t=e.docs.map((function(e){return Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id})}));console.log("data"),a(t)}))}),[]);return Object(m.jsxs)("div",{children:[Object(m.jsx)(He,{rows:n}),Object(m.jsx)(te.a,{}),Object(m.jsx)(F.a,{color:"pink",fluid:!0,onClick:function(){e.push("/cart")},children:"\u67e5\u770b\u8cfc\u7269\u8eca"})]})}function ze(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)([]),i=Object(s.a)(a,2),o=i[0],l=i[1],j=Object(r.useState)([]),b=Object(s.a)(j,2),u=b[0],O=b[1],h=Object(r.useState)([]),f=Object(s.a)(h,2),p=f[0],v=f[1],g=Object(r.useState)({title:"",account:"",cate:""}),C=Object(s.a)(g,2),y=C[0],k=C[1],R={date:(new Date).toISOString().slice(0,10),title:"",expense:"",type:"\u4e00\u822c"},A=Object(r.useState)(R),B=Object(s.a)(A,2),H=B[0],L=B[1],N=Object(r.useState)(!1),P=Object(s.a)(N,2),z=P[0],M=P[1],U=Object(r.useState)(!1),q=Object(s.a)(U,2),W=q[0],G=q[1],Y=Object(r.useState)((new Date).getMonth()+1),V=Object(s.a)(Y,2),J=V[0],$=(V[1],x.collection("balances"));Object(r.useEffect)((function(){K(),X(),Q()}),[]),Object(r.useEffect)((function(){O(p.filter((function(e){var t;return e.account.name.includes(y.account)&&e.title.includes(y.title)&&(null===(t=e.cate)||void 0===t?void 0:t.includes(y.cate))}))),console.log(y)}),[y]);var X=function(){M(!0),x.collection("accounts").where("user","==","mkdodos@gmail.com").orderBy("prior").get().then((function(e){var t=e.docs.map((function(e){return{key:e.id,text:e.data().name,value:e.data().name}}));n(t),M(!1)}))},Q=function(){M(!0),x.collection("cates").where("user","==","mkdodos@gmail.com").orderBy("prior").get().then((function(e){var t=e.docs.map((function(e){return{key:e.id,text:e.data().name,value:e.data().name}}));l(t),M(!1)}))},K=function(){M(!0),$.where("date",">=","2022-0".concat(J,"-01")).where("date","<=","2022-0".concat(J,"-31")).get().then((function(e){var t=e.docs.map((function(e){return Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id})}));t=t.slice().reverse(),console.log(t),O(t),v(t),M(!1)}))},Z=function(e){L(Object(S.a)(Object(S.a)({},H),{},Object(w.a)({},e.target.name,e.target.value)))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(E.a,{open:W,closeIcon:!0,onClose:function(){G(!1)},children:[Object(m.jsx)(E.a.Header,{children:"\u7de8\u8f2f"}),Object(m.jsx)(E.a.Content,{children:Object(m.jsxs)(I.a,{children:[Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"\u65e5\u671f"}),Object(m.jsx)("input",{name:"date",type:"date",placeholder:"",value:H.date,onChange:Z})]}),Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"\u9805\u76ee"}),Object(m.jsx)("input",{name:"title",type:"text",value:H.title,onChange:Z})]}),Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"\u91d1\u984d"}),Object(m.jsx)("input",{name:"expense",type:"number",value:H.expense,onChange:Z})]}),Object(m.jsx)(I.a.Select,{label:"\u8a18\u5e33\u985e\u578b",value:H.type,onChange:function(e,t){L(Object(S.a)(Object(S.a)({},H),{},{type:t.value}))},name:"types",options:[{key:"1",text:"\u4e00\u822c",value:"\u4e00\u822c"},{key:"2",text:"\u8f49\u5e33",value:"\u8f49\u5e33"},{key:"3",text:"\u6295\u8cc7",value:"\u6295\u8cc7"}]})]})}),Object(m.jsx)(E.a.Actions,{children:Object(m.jsx)(F.a,{primary:!0,loading:z,onClick:function(){M(!0),H.id?$.doc(H.id).update(H).then((function(){K(),L(R),G(!1)})):$.add(H).then((function(){K(),L(R),G(!1)}))},children:"\u5132\u5b58"})})]}),Object(m.jsx)(T.a,{children:Object(m.jsxs)(T.a.Row,{columns:3,children:[Object(m.jsx)(T.a.Column,{children:Object(m.jsx)(_.a,{name:"search",fluid:!0,onChange:function(e){k(Object(S.a)(Object(S.a)({},y),{},{title:e.target.value}))},placeholder:"Search..."})}),Object(m.jsx)(T.a.Column,{children:Object(m.jsx)(d.a,{selection:!0,clearable:!0,options:c,label:"\u5e33\u6236",onChange:function(e,t){k(Object(S.a)(Object(S.a)({},y),{},{account:t.value}))}})}),Object(m.jsx)(T.a.Column,{children:Object(m.jsx)(d.a,{selection:!0,clearable:!0,options:o,label:"\u985e\u5225",onChange:function(e,t){k(Object(S.a)(Object(S.a)({},y),{},{cate:t.value}))}})})]})}),Object(m.jsxs)(D.a,{striped:!0,unstackable:!0,children:[Object(m.jsx)(D.a.Header,{children:Object(m.jsxs)(D.a.Row,{children:[Object(m.jsx)(D.a.HeaderCell,{width:2,children:"\u65e5\u671f"}),Object(m.jsx)(D.a.HeaderCell,{width:1,children:"\u5e33\u6236"}),Object(m.jsx)(D.a.HeaderCell,{width:4,children:"\u9805\u76ee"}),Object(m.jsx)(D.a.HeaderCell,{width:2,children:"\u91d1\u984d"}),Object(m.jsx)(D.a.HeaderCell,{children:"\u8a18\u5e33\u985e\u578b"})]})}),Object(m.jsx)(D.a.Body,{children:u.map((function(e){return Object(m.jsxs)(D.a.Row,{onClick:function(){L(e),G(!0),console.log(e)},children:[Object(m.jsx)(D.a.Cell,{children:e.date}),Object(m.jsx)(D.a.Cell,{children:e.account.name}),Object(m.jsx)(D.a.Cell,{children:e.title}),Object(m.jsx)(D.a.Cell,{children:e.expense||e.income}),Object(m.jsx)(D.a.Cell,{children:e.type})]},e.id)}))})]})]})}function Me(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),c=t[0],n=t[1];return Object(r.useEffect)((function(){J.a.get("http://localhost:8888/laravel5salary/public/emp/basic/data").then((function(e){n(e.data),console.log(e.data)}))}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("pre",{children:JSON.stringify(c)}),c.map((function(e){return Object(m.jsx)("div",{children:e.name},e.name)}))]})}function Ue(e){var t=e.num,c=e.active,n=e.onClick;return Object(m.jsx)("button",{style:c?{backgroundColor:"#55d6be",outline:"none",height:"50px",width:"50px",borderRadius:"50%",border:"1px solid white"}:{backgroundColor:"#fc6471",outline:"none",height:"50px",width:"50px",borderRadius:"50%",border:"1px solid white"},onClick:n,children:t})}c(226);function qe(e){var t=e.score;return Object(m.jsx)("div",{className:"score",children:Object(m.jsx)("span",{className:"score-text",children:t})})}var We=c(246);c(227);function Te(e){var t=e.year,c=(e.setYear,e.rows),n=(e.setSelectedRow,e.onYearClick);return Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"wrapper",children:Object(m.jsxs)("table",{className:"scores-table",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Year"}),Object(m.jsx)("th",{children:"Basic"}),Object(m.jsx)("th",{children:"Advance"})]})}),Object(m.jsx)("tbody",{children:c.map((function(e){return Object(m.jsxs)("tr",{onClick:function(){return n(e)},children:[Object(m.jsx)("td",{className:t==e.year?"active":"",children:e.year}),Object(m.jsx)("td",{children:e.basic}),Object(m.jsx)("td",{children:e.advance})]},e.id)}))})]})})})}var Ge=c(256);function Ye(){var e="2022-11-20",t=(new Date).getTime(),c=new Date("".concat(e," 00:00:00")).getTime(),n=(c-t)/60/60/1e3/24,a=c-t-24*(n=Math.floor(n))*60*60*1e3,r=a/60/60/1e3,i=(a-=60*(r=Math.floor(r))*60*1e3)/60/1e3;return i=Math.floor(i),Object(m.jsxs)("div",{children:[Object(m.jsx)(Ge.a,{icon:!0,children:Object(m.jsxs)(Ge.a.Content,{children:[Object(m.jsxs)(Ge.a.Header,{children:[" ",Object(m.jsx)(b.a,{name:"circle notched",loading:!0})," \u8ddd\u96e2 ",e," "]}),Object(m.jsxs)(A.a.Group,{children:[Object(m.jsxs)(A.a,{children:[Object(m.jsx)(A.a.Value,{children:n}),Object(m.jsx)(A.a.Label,{children:"\u5929"})]}),Object(m.jsxs)(A.a,{children:[Object(m.jsx)(A.a.Value,{children:r}),Object(m.jsx)(A.a.Label,{children:"\u5c0f\u6642"})]}),Object(m.jsxs)(A.a,{children:[Object(m.jsx)(A.a.Value,{children:i}),Object(m.jsx)(A.a.Label,{children:"\u5206\u9418"})]})]})]})}),Object(m.jsx)("br",{})]})}function Ve(){var e={display:"grid",gridTemplateColumns:"repeat(6, 50px)",gridTemplateRows:"repeat(4, 50px)",gap:"5px",justifyContent:"center",marginBottom:"20px"},t=Object(r.useState)([]),c=Object(s.a)(t,2),n=c[0],a=c[1],i=Object(r.useState)([]),o=Object(s.a)(i,2),l=(o[0],o[1],Object(r.useState)([])),j=Object(s.a)(l,2),d=j[0],b=j[1],u=Object(r.useState)([]),O=Object(s.a)(u,2),h=O[0],f=O[1],p=Object(r.useState)(0),v=Object(s.a)(p,2),g=v[0],C=v[1],y=Object(r.useState)(0),w=Object(s.a)(y,2),k=w[0],E=w[1],I=Object(r.useState)(!1),F=Object(s.a)(I,2),R=F[0],A=(F[1],Object(r.useState)({})),D=Object(s.a)(A,2),B=D[0],H=D[1],L=Object(r.useState)(0),N=Object(s.a)(L,2),P=N[0],z=N[1],M=x.collection("scores"),U=x.collection("scoreDetails");Object(r.useEffect)((function(){for(var e=2017;e<2022;e++);M.orderBy("year").get().then((function(e){var t=e.docs.map((function(e,t){return Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id})}));a(t)}))}),[]),Object(r.useEffect)((function(){U.orderBy("sn").where("year","==",P).get().then((function(e){var t=e.docs.map((function(e){return Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id})})),c=t.filter((function(e){return"basic"===e.type}));b(c),q(c);var n=t.filter((function(e){return"advance"===e.type}));f(n),W(n)}))}),[P]),Object(r.useEffect)((function(){var e=n.indexOf(B);-1!==e&&M.doc(B.id).update({basic:g}).then((function(){var t=n.slice();Object.assign(t[e],Object(S.a)(Object(S.a)({},B),{},{basic:g})),a(t)}))}),[g]),Object(r.useEffect)((function(){var e=n.indexOf(B);-1!==e&&M.doc(B.id).update({advance:k}).then((function(){var t=n.slice();Object.assign(t[e],Object(S.a)(Object(S.a)({},B),{},{advance:k})),a(t)}))}),[k]);var q=function(e){var t=0;e.map((function(e){return e.correct?t+=5:t})),C(t)},W=function(e){var t=0;e.map((function(e){return e.correct?t+=8:t})),E(t)},T=function(e){U.doc(e.id).update({correct:!e.correct}).then((function(){if("basic"===e.type){var t=d.slice(),c=e;Object.assign(c,Object(S.a)(Object(S.a)({},c),{},{correct:!c.correct})),b(t),q(t)}if("advance"===e.type){var n=h.slice(),a=e;Object.assign(a,Object(S.a)(Object(S.a)({},a),{},{correct:!a.correct})),f(n),W(n)}}))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ye,{}),Object(m.jsx)(Te,{year:P,setYear:z,rows:n,setSelectedRow:H,onYearClick:function(e){z(e.year),H(e)}}),R?Object(m.jsx)(We.a,{active:!0,inline:"centered"}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(qe,{score:g}),Object(m.jsx)("div",{style:e,children:d.map((function(e){return Object(m.jsx)(Ue,{onClick:function(){return T(e)},active:e.correct,num:e.sn},e.id)}))}),Object(m.jsx)(qe,{score:k}),Object(m.jsx)("div",{style:e,children:h.map((function(e){return Object(m.jsx)(Ue,{onClick:function(){return T(e)},active:e.correct,num:e.sn},e.id)}))})]})]})}function Je(e){var t=e.rows,c=e.setEditedIndex,n=(e.open,e.setOpen),a=e.setEditedRow,r=(e.editedRow,["\u671f\u4e2d","\u671f\u672b"]);return Object(m.jsx)("div",{children:Object(m.jsxs)(D.a,{unstackable:!0,children:[Object(m.jsx)(D.a.Header,{children:Object(m.jsxs)(D.a.Row,{textAlign:"right",children:[Object(m.jsx)(D.a.HeaderCell,{textAlign:"center",children:"\u5b78\u671f"}),Object(m.jsxs)(D.a.HeaderCell,{textAlign:"center",children:[" ",Object(m.jsx)(b.a,{name:"tree"})]}),Object(m.jsx)(D.a.HeaderCell,{children:"\u570b\u8a9e"}),Object(m.jsx)(D.a.HeaderCell,{children:"\u82f1\u6587"}),Object(m.jsx)(D.a.HeaderCell,{children:"\u6578\u5b78"}),Object(m.jsx)(D.a.HeaderCell,{children:"\u81ea\u7136"}),Object(m.jsx)(D.a.HeaderCell,{children:"\u793e\u6703"}),Object(m.jsx)(D.a.HeaderCell,{children:Object(m.jsx)(b.a,{name:"signal"})}),Object(m.jsx)(D.a.HeaderCell,{})]})}),Object(m.jsx)(D.a.Body,{children:t.map((function(e,t){return Object(m.jsxs)(D.a.Row,{textAlign:"right",children:[t%2==0&&Object(m.jsxs)(D.a.Cell,{rowSpan:"2",textAlign:"center",children:[e.year,"-",e.section]}),Object(m.jsx)(D.a.Cell,{textAlign:"center",children:Object(m.jsx)(X.a,{color:1==e.type?"olive":"green",children:r[e.type-1]})}),Object(m.jsx)(D.a.Cell,{children:e.ch}),Object(m.jsx)(D.a.Cell,{children:e.en}),Object(m.jsx)(D.a.Cell,{children:e.math}),Object(m.jsx)(D.a.Cell,{children:e.nature}),Object(m.jsx)(D.a.Cell,{children:e.society}),Object(m.jsx)(D.a.Cell,{textAlign:"right",children:Object(m.jsx)($.a,{as:"h4",children:e.total})}),Object(m.jsx)(D.a.Cell,{onClick:function(){a(e),c(t),n(!0)},children:Object(m.jsxs)("a",{href:"#",children:[" ",Object(m.jsx)(b.a,{name:"edit"})]})})]},e.id)}))})]})})}var $e=c(254);function Xe(e){var t=e.open,c=e.setOpen,n=e.setYear,a=e.year,i=Object(r.useState)(""),o=Object(s.a)(i,2);o[0],o[1];return Object(m.jsx)("div",{children:Object(m.jsxs)(E.a,{open:t,onClose:function(){return c(!1)},closeIcon:!0,children:[Object(m.jsx)(E.a.Header,{children:"\u5e74\u5ea6"}),Object(m.jsx)(E.a.Content,{children:Object(m.jsx)($e.a,{horizontal:!0,celled:!0,children:[111,112,113,114].map((function(e){return Object(m.jsx)($e.a.Item,{onClick:function(){console.log(e),c(!1),n(e)},children:e==a?Object(m.jsx)(F.a,{color:"teal",children:e}):Object(m.jsx)(F.a,{children:e})},e)}))})})]})})}function Qe(e){var t=e.setEditedRow,c=e.editedRow,n=["\u4e0a","\u4e0b"];return Object(m.jsx)("div",{children:Object(m.jsx)($e.a,{horizontal:!0,children:["1","2"].map((function(e,a){return Object(m.jsx)($e.a.Item,{onClick:function(){t(Object(S.a)(Object(S.a)({},c),{},{section:e}))},children:Object(m.jsx)($e.a.Content,{children:Object(m.jsx)($e.a.Header,{children:Object(m.jsxs)(F.a,{basic:!0,primary:c.section==e,children:[n[a],"\u5b78\u671f"]})})})},e)}))})})}function Ke(e){e.open,e.setOpen;var t=e.setEditedRow,c=e.editedRow,n=["\u671f\u4e2d","\u671f\u672b"];return Object(m.jsx)("div",{children:Object(m.jsx)($e.a,{horizontal:!0,children:["1","2"].map((function(e,a){return Object(m.jsx)($e.a.Item,{onClick:function(){t(Object(S.a)(Object(S.a)({},c),{},{type:e}))},children:Object(m.jsx)($e.a.Content,{children:Object(m.jsx)($e.a.Header,{children:Object(m.jsxs)(F.a,{basic:!0,positive:c.type==e,children:[n[a],"\u8003"]})})})},e)}))})})}function Ze(e){var t=e.open,c=e.setOpen,n=e.editedRow,a=e.setEditedRow,r=e.defaultItem,i=(e.rows,e.editedIndex,e.setEditedIndex),o=e.saveRow,l=e.deleteRow,s=e.loading,j=(e.setLoading,e.yearOpen),d=e.setYearOpen;return Object(m.jsxs)("div",{children:[Object(m.jsxs)(F.a,{basic:!0,color:"teal",onClick:function(){i(-1),c(!0),a(r)},children:[Object(m.jsx)(b.a,{name:"plus"}),"\u65b0\u589e"]}),Object(m.jsxs)(E.a,{closeIcon:!0,open:t,onClose:function(){return c(!1)},children:[Object(m.jsx)(Xe,{open:j,setOpen:d,setYear:function(e){a(Object(S.a)(Object(S.a)({},n),{},{year:e}))},year:n.year}),Object(m.jsx)(E.a.Header,{children:"\u7de8\u8f2f"}),Object(m.jsx)(E.a.Content,{children:Object(m.jsxs)(I.a,{unstackable:!0,children:[Object(m.jsxs)(I.a.Group,{widths:2,children:[Object(m.jsx)(I.a.Input,{placeholder:"\u5e74\u5ea6",type:"number",value:n.year,onChange:function(e){a(Object(S.a)(Object(S.a)({},n),{},{year:e.target.value}))}}),Object(m.jsx)(I.a.Button,{onClick:function(){d(!0)},children:"\u9078\u64c7\u5e74\u5ea6"})]}),Object(m.jsx)(I.a.Group,{widths:2}),Object(m.jsx)(Qe,{editedRow:n,setEditedRow:a}),Object(m.jsx)(Ke,{editedRow:n,setEditedRow:a}),Object(m.jsx)(te.a,{horizontal:!0,children:Object(m.jsx)($.a,{as:"h4",children:Object(m.jsx)(b.a,{name:"signal"})})}),Object(m.jsxs)(I.a.Field,{inline:!0,children:[Object(m.jsx)("label",{children:"\u570b\u8a9e"}),Object(m.jsx)("input",{type:"number",value:n.ch,onChange:function(e){a(Object(S.a)(Object(S.a)({},n),{},{ch:e.target.value}))}})]}),Object(m.jsxs)(I.a.Field,{inline:!0,children:[Object(m.jsx)("label",{children:"\u82f1\u6587"}),Object(m.jsx)("input",{type:"number",value:n.en,onChange:function(e){a(Object(S.a)(Object(S.a)({},n),{},{en:e.target.value}))}})]}),Object(m.jsxs)(I.a.Field,{inline:!0,children:[Object(m.jsx)("label",{children:"\u6578\u5b78"}),Object(m.jsx)("input",{type:"number",value:n.math,onChange:function(e){a(Object(S.a)(Object(S.a)({},n),{},{math:e.target.value}))}})]}),Object(m.jsxs)(I.a.Field,{inline:!0,children:[Object(m.jsx)("label",{children:"\u81ea\u7136"}),Object(m.jsx)("input",{type:"number",value:n.nature,onChange:function(e){a(Object(S.a)(Object(S.a)({},n),{},{nature:e.target.value}))}})]}),Object(m.jsxs)(I.a.Field,{inline:!0,children:[Object(m.jsx)("label",{children:"\u793e\u6703"}),Object(m.jsx)("input",{type:"number",value:n.society,onChange:function(e){a(Object(S.a)(Object(S.a)({},n),{},{society:e.target.value}))}})]})]})}),Object(m.jsxs)(E.a.Actions,{children:[Object(m.jsx)(F.a,{loading:s,primary:!0,onClick:o,children:"\u5132\u5b58"}),Object(m.jsx)(F.a,{loading:s,color:"red",floated:"left",onClick:l,children:"\u522a\u9664"})]})]})]})}function _e(){return Object(m.jsxs)("div",{children:[[1,3,3,4,2,3,4,3,1,1,4,3,3,4,3,1,4,3,2,2,3,2,3,2].map((function(e,t){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(X.a,{circular:!0,basic:!0,color:"teal",size:"large",children:e}),t%5==4&&t%10!=9&&Object(m.jsx)(b.a,{size:"tiny",name:"circle",color:"teal"}),t%10==9&&Object(m.jsx)(te.a,{})]})})),Object(m.jsx)(te.a,{}),["192","3\u516c\u5c3a8\u516c\u5206","8","1","\u4e0d\u80fd","26","XOX","8:30","610","396"].map((function(e,t){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(X.a,{basic:!0,color:"pink",size:"large",children:e}),t%5==4&&Object(m.jsx)(te.a,{})]})})),Object(m.jsx)(te.a,{})]})}function et(){var e={year:"",section:"",ch:"",en:"",math:"",nature:"",society:""},t=Object(r.useState)(e),c=Object(s.a)(t,2),n=c[0],a=c[1],i=Object(r.useState)([]),o=Object(s.a)(i,2),l=o[0],j=o[1],d=Object(r.useState)(!1),b=Object(s.a)(d,2),u=b[0],O=b[1],h=Object(r.useState)(!1),f=Object(s.a)(h,2),p=f[0],v=f[1],g=Object(r.useState)(-1),C=Object(s.a)(g,2),y=C[0],w=C[1],E=Object(r.useState)(!1),I=Object(s.a)(E,2),F=I[0],R=I[1],A=x.collection("schoolExams");Object(r.useEffect)((function(){A.get().then((function(e){var t=e.docs.map((function(e){return Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id})}));t.sort((function(e,t){return e.year-t.year||e.section-t.section||e.type-t.type})),j(t)}))}),[]);return Object(m.jsxs)("div",{children:[Object(m.jsx)(_e,{}),Object(m.jsx)(Ze,{open:u,setOpen:O,editedRow:n,setEditedRow:a,defaultItem:e,rows:l,editedIndex:y,setEditedIndex:w,saveRow:function(){var e=l.slice();n.total=Number(n.ch)+Number(n.en)+Number(n.math)+Number(n.nature)+Number(n.society),R(!0),y>-1?A.doc(n.id).update(n).then((function(){Object.assign(e[y],n),j(e),O(!1),R(!1)})):A.add(n).then((function(e){j([].concat(Object(k.a)(l),[Object(S.a)(Object(S.a)({},n),{},{id:e.id})])),O(!1),R(!1)}))},deleteRow:function(){R(!0),A.doc(n.id).delete().then((function(){var e=l.slice();e.splice(y,1),j(e),O(!1),R(!1)}))},loading:F,setLoading:R,yearOpen:p,setYearOpen:v}),Object(m.jsx)(te.a,{horizontal:!0,children:"\u8003\u8a66\u6210\u7e3e"}),Object(m.jsx)(Je,{rows:l,open:u,setOpen:O,editedRow:n,setEditedRow:a,setEditedIndex:w})]})}var tt=c(257),ct=[{id:"1",name:"\u623f\u8cb8A",balance:"123"},{id:"2",name:"\u623f\u8cb8B",balance:"456"},{id:"3",name:"\u571f\u9280",balance:"789"}],nt=[{id:"1",account:"\u623f\u8cb8A",date:"2022-10-08",basic:"11872",interest:"5123"},{id:"2",account:"\u623f\u8cb8B",date:"2022-10-08",basic:"247",interest:"123"},{id:"3",account:"\u623f\u8cb8B",date:"2022-10-08",basic:"10",interest:"13"}];function at(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)({}),i=Object(s.a)(a,2),o=i[0],l=i[1],j=Object(r.useState)([]),d=Object(s.a)(j,2),b=d[0],u=d[1],O=Object(r.useState)([]),h=Object(s.a)(O,2),x=h[0],f=h[1],p=Object(r.useState)(),v=Object(s.a)(p,2),g=v[0],C=v[1],y={date:(new Date).toISOString().slice(0,10),basic:"",interest:"",account:""},A=Object(r.useState)(y),B=Object(s.a)(A,2),H=B[0],L=B[1],N=Object(r.useState)(-1),P=Object(s.a)(N,2),z=P[0],M=P[1],U=Object(r.useState)(!1),q=Object(s.a)(U,2),W=q[0],G=q[1],Y=Object(r.useState)(!1),V=Object(s.a)(Y,2),J=V[0];V[1];Object(r.useEffect)((function(){n(ct.filter((function(e){return"\u623f\u8cb8A"===e.name||"\u623f\u8cb8B"===e.name}))),l(ct.filter((function(e){return"\u571f\u9280"===e.name}))[0]),u(nt),f(nt)}),[]);var X=function(e){L(Object(S.a)(Object(S.a)({},H),{},Object(w.a)({},e.target.name,e.target.value)))},Q=function(){var e=Object(S.a)(Object(S.a)({},H),{},{account:g.name,id:Object(tt.a)()});u([e].concat(Object(k.a)(b))),f([e].concat(Object(k.a)(x)));var t=1*g.balance-1*H.basic;K(t),Z("create"),G(!1),L(y)},K=function(e){var t=c.slice();Object.assign(t[g.index],Object(S.a)(Object(S.a)({},g),{},{balance:e})),n(t),C(Object(S.a)(Object(S.a)({},g),{},{balance:e}))},Z=function(e){switch(e){case"create":l((function(e){return Object(S.a)(Object(S.a)({},e),{},{balance:Number(e.balance)-Number(H.basic)-Number(H.interest)})}));break;case"delete":l((function(e){return Object(S.a)(Object(S.a)({},e),{},{balance:Number(e.balance)+Number(H.basic)+Number(H.interest)})}))}};return Object(m.jsxs)("div",{children:[Object(m.jsxs)(E.a,{open:W,closeIcon:!0,onClose:function(){G(!1)},children:[Object(m.jsx)(E.a.Header,{children:"\u7de8\u8f2f\u623f\u8cb8"}),Object(m.jsx)(E.a.Content,{children:Object(m.jsxs)(I.a,{children:[Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"\u65e5\u671f"}),Object(m.jsx)("input",{type:"date",name:"date",value:H.date,onChange:X})]}),Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"\u672c\u91d1"}),Object(m.jsx)("input",{type:"number",name:"basic",value:H.basic,onChange:X})]}),Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"\u5229\u606f"}),Object(m.jsx)("input",{type:"number",name:"interest",value:H.interest,onChange:X})]})]})}),Object(m.jsxs)(E.a.Actions,{children:[z>-1&&Object(m.jsx)(F.a,{onClick:function(){var e=1*g.balance+1*H.basic;K(e),Z("delete"),u(b.filter((function(e){return e.id!==H.id}))),f(x.filter((function(e){return e.id!==H.id}))),G(!1)},color:"red",floated:"left",loading:J,children:"\u522a\u9664"}),Object(m.jsx)(F.a,{onClick:function(){z>-1||Q()},color:"blue",loading:J,children:"\u5132\u5b58"})]})]}),Object(m.jsxs)(T.a,{columns:2,children:[Object(m.jsx)(T.a.Row,{children:c.map((function(e,t){return Object(m.jsx)(T.a.Column,{children:Object(m.jsx)(R.a,{inverted:e.name===(null===g||void 0===g?void 0:g.name),color:"teal",onClick:function(){return function(e,t){C(Object(S.a)(Object(S.a)({},e),{},{index:t})),u(x.filter((function(t){return t.account===e.name})))}(e,t)},children:Object(m.jsxs)($.a,{as:"h2",inverted:e.name===(null===g||void 0===g?void 0:g.name),children:[e.balance,Object(m.jsx)($.a.Subheader,{children:e.name})]})})},e.id)}))}),Object(m.jsxs)(T.a.Row,{children:[Object(m.jsxs)(T.a.Column,{children:[o.name,o.balance]}),Object(m.jsx)(T.a.Column,{children:g&&Object(m.jsx)(F.a,{floated:"right",color:"yellow",onClick:function(){G(!0),M(-1),L(y)},children:"ADD"})})]})]}),Object(m.jsxs)(D.a,{celled:!0,unstackable:!0,children:[Object(m.jsx)(D.a.Header,{children:Object(m.jsxs)(D.a.Row,{children:[Object(m.jsx)(D.a.HeaderCell,{children:"\u65e5\u671f"}),Object(m.jsx)(D.a.HeaderCell,{children:"\u672c\u91d1"}),Object(m.jsx)(D.a.HeaderCell,{children:"\u5229\u606f"}),Object(m.jsx)(D.a.HeaderCell,{children:"\u5e33\u6236"})]})}),Object(m.jsx)(D.a.Body,{children:b.map((function(e,t){return Object(m.jsxs)(D.a.Row,{onClick:function(){return function(e,t){L(e),M(t),G(!0),console.log(e)}(e,t)},children:[Object(m.jsx)(D.a.Cell,{children:e.date}),Object(m.jsx)(D.a.Cell,{children:e.basic}),Object(m.jsx)(D.a.Cell,{children:e.interest}),Object(m.jsx)(D.a.Cell,{children:e.account})]},e.id)}))}),Object(m.jsx)(D.a.Footer,{})]})]})}var rt,it,ot,lt=c(47),st=c(48),jt=["title","titleId"];function dt(){return dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e},dt.apply(this,arguments)}function bt(e,t){if(null==e)return{};var c,n,a=function(e,t){if(null==e)return{};var c,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||(a[c]=e[c]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(a[c]=e[c])}return a}function ut(e,t){var c=e.title,n=e.titleId,a=bt(e,jt);return r.createElement("svg",dt({width:"136px",height:"124px",viewBox:"0 0 136 124",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":n},a),void 0===c?r.createElement("title",{id:n},"day-cloudy"):c?r.createElement("title",{id:n},c):null,rt||(rt=r.createElement("desc",null,"Created with Sketch.")),it||(it=r.createElement("defs",null,r.createElement("linearGradient",{x1:"24.3617045%",y1:"72.8710337%",x2:"63.6421593%",y2:"39.9796521%",id:"linearGradient-1"},r.createElement("stop",{stopColor:"#F2F2F2",offset:"0%"}),r.createElement("stop",{stopColor:"#CFCFCF",offset:"100%"})),r.createElement("linearGradient",{x1:"72.5161778%",y1:"64.8727273%",x2:"8.62380839%",y2:"22.6545455%",id:"linearGradient-2"},r.createElement("stop",{stopColor:"#FFFFFF",offset:"2%"}),r.createElement("stop",{stopColor:"#FFFFFF",stopOpacity:0,offset:"100%"})))),ot||(ot=r.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"day-cloudy",transform:"translate(0.000000, 2.000000)"},r.createElement("circle",{id:"Oval",fill:"#EFCC00",fillRule:"nonzero",cx:84.5,cy:49.4446841,r:31.5}),r.createElement("path",{d:"M84,-0.0553158818 L84,10.9446841",id:"Path",stroke:"#EFCC00",strokeWidth:3,strokeLinecap:"round"}),r.createElement("path",{d:"M84,87.9446841 L84,98.9446841",id:"Path",stroke:"#EFCC00",strokeWidth:3,strokeLinecap:"round"}),r.createElement("path",{d:"M34,49.9446841 L45,49.9446841",id:"Path",stroke:"#EFCC00",strokeWidth:3,strokeLinecap:"round"}),r.createElement("path",{d:"M123,49.9446841 L134,49.9446841",id:"Path",stroke:"#EFCC00",strokeWidth:3,strokeLinecap:"round"}),r.createElement("path",{d:"M49,14.9446841 L57,22.9446841",id:"Path",stroke:"#EFCC00",strokeWidth:3,strokeLinecap:"round"}),r.createElement("path",{d:"M112,76.9446841 L120,84.9446841",id:"Path",stroke:"#EFCC00",strokeWidth:3,strokeLinecap:"round"}),r.createElement("path",{d:"M49,84.9446841 L57,76.9446841",id:"Path",stroke:"#EFCC00",strokeWidth:3,strokeLinecap:"round"}),r.createElement("path",{d:"M112,22.9446841 L120,14.9446841",id:"Path",stroke:"#EFCC00",strokeWidth:3,strokeLinecap:"round"}),r.createElement("path",{d:"M43.6759917,34.9446841 C59.8900952,34.9120269 74.7864611,43.8329661 82.3604414,58.1116072 C94.8397967,50.8446293 110.55339,52.1457401 121.656555,61.3653887 C132.75972,70.5850372 136.871287,85.7459907 131.938648,99.2794764 C127.006009,112.812962 114.08701,121.816608 99.6311764,121.795541 L43.6759917,121.944684 C19.5544075,121.944684 0,102.469091 0,78.444729 C0,54.4203672 19.5544075,34.9446841 43.6759917,34.9446841 Z",id:"Path",fill:"url(#linearGradient-1)",fillRule:"nonzero"}),r.createElement("ellipse",{id:"Oval",fill:"url(#linearGradient-2)",fillRule:"nonzero",transform:"translate(99.372837, 87.180572) rotate(-74.390000) translate(-99.372837, -87.180572) ",cx:99.3728371,cy:87.1805719,rx:34.1705349,ry:34.2478481})))))}var Ot,ht,xt=r.forwardRef(ut),ft=(c.p,["title","titleId"]);function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e},mt.apply(this,arguments)}function pt(e,t){if(null==e)return{};var c,n,a=function(e,t){if(null==e)return{};var c,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||(a[c]=e[c]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(a[c]=e[c])}return a}function vt(e,t){var c=e.title,n=e.titleId,a=pt(e,ft);return r.createElement("svg",mt({width:"120px",height:"92px",viewBox:"0 0 120 92",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":n},a),void 0===c?r.createElement("title",{id:n},"2682842 - breeze fast speed weather wind windy"):c?r.createElement("title",{id:n},c):null,Ot||(Ot=r.createElement("desc",null,"Created with Sketch.")),ht||(ht=r.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeLinecap:"round"},r.createElement("g",{id:"2682842---breeze-fast-speed-weather-wind-windy",transform:"translate(3.000000, 2.000000)",strokeWidth:5},r.createElement("path",{d:"M0,59.5725105 L65.4936276,59.5725105 C72.9529911,59.5725105 79,65.6166664 79,73.0725105 L79,73.0725105 C79,80.5283547 72.9529911,86.5725105 65.4936276,86.5725105",id:"Path",stroke:"#A5A9AA"}),r.createElement("path",{d:"M79.3239437,0.57251054 C84.1155973,0.57251054 88,4.37809017 88,9.07251054 L88,9.07251054 C88,13.7669309 84.1155973,17.5725105 79.3239437,17.5725105 L0,17.5725105",id:"Path",stroke:"#A5A9AA"}),r.createElement("path",{d:"M77,40.5725105 L107.487805,40.5725105 C111.084391,40.5725105 114,43.4881196 114,47.0847057 L114,47.0847057 C113.986565,50.6717631 111.074887,53.5725105 107.487805,53.5725105",id:"Path",stroke:"#B9C1C6"}),r.createElement("path",{d:"M42,39.5725105 L62,39.5725105",id:"Path",stroke:"#A5A9AA"}),r.createElement("path",{d:"M0,39.5725105 L27,39.5725105",id:"Path",stroke:"#B9C1C6",fill:"#D8D8D8"})))))}var gt,Ct,yt=r.forwardRef(vt),wt=(c.p,["title","titleId"]);function kt(){return kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e},kt.apply(this,arguments)}function St(e,t){if(null==e)return{};var c,n,a=function(e,t){if(null==e)return{};var c,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||(a[c]=e[c]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(a[c]=e[c])}return a}function Et(e,t){var c=e.title,n=e.titleId,a=St(e,wt);return r.createElement("svg",kt({width:"142px",height:"123px",viewBox:"0 0 142 123",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":n},a),void 0===c?r.createElement("title",{id:n},"2682820 - forecast hail rain snow stones storm weather"):c?r.createElement("title",{id:n},c):null,gt||(gt=r.createElement("desc",null,"Created with Sketch.")),Ct||(Ct=r.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"2682820---forecast-hail-rain-snow-stones-storm-weather",transform:"translate(4.000000, 4.000000)"},r.createElement("circle",{id:"Oval",fill:"#C4C4C4",fillRule:"nonzero",cx:124.5,cy:63.8514002,r:7.5}),r.createElement("path",{d:"M1,98.3514002 L133,98.3514002",id:"Path",stroke:"#0D98FF",strokeWidth:10,strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M19,113.3514 L108,113.3514",id:"Path",stroke:"#0D98FF",strokeWidth:10,strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M49,16.3514002 L49,81.3514002 C43.3174639,74.5799058 36.1329484,69.1840349 28,65.579524",id:"Path",stroke:"#0BAEFF",strokeWidth:10,strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M83,26.3514002 L83,81.3514002 C83,81.3514002 91.8092933,65.6477466 109,65.59813",id:"Path",stroke:"#0BAEFF",strokeWidth:10,strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("circle",{id:"Oval",fill:"#C4C4C4",fillRule:"nonzero",cx:9.5,cy:60.8514002,r:7.5}),r.createElement("path",{d:"M66,1.35140018 L66,33.3514002",id:"Path",stroke:"#0BAEFF",strokeWidth:10,strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M66,51.3514002 L66,73.3514002",id:"Path",stroke:"#0BAEFF",strokeWidth:10,strokeLinecap:"round",strokeLinejoin:"round"})))))}var It,Ft,Rt=r.forwardRef(Et),At=(c.p,["title","titleId"]);function Dt(){return Dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e},Dt.apply(this,arguments)}function Bt(e,t){if(null==e)return{};var c,n,a=function(e,t){if(null==e)return{};var c,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||(a[c]=e[c]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(a[c]=e[c])}return a}function Ht(e,t){var c=e.title,n=e.titleId,a=Bt(e,At);return r.createElement("svg",Dt({width:"104px",height:"92px",viewBox:"0 0 104 92",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":n},a),void 0===c?r.createElement("title",{id:n},"redo"):c?r.createElement("title",{id:n},c):null,It||(It=r.createElement("desc",null,"Created with Sketch.")),Ft||(Ft=r.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"redo",transform:"translate(48.500000, 43.500000) scale(1, -1) rotate(73.000000) translate(-48.500000, -43.500000) translate(0.000000, -5.000000)",fill:"#979797",fillRule:"nonzero"},r.createElement("path",{d:"M48.5889819,0 C61.5488468,0.0233510116 73.3155726,5.13031863 82.0029395,13.4324167 L88.9875262,6.44783571 C91.9444617,3.49109819 97,5.58520133 97,9.76675841 L97,35.9839206 C97,38.5761261 94.8986593,40.6774651 92.3064516,40.6774651 L66.0892681,40.6774651 C61.9077077,40.6774651 59.8136028,35.6219309 62.7703427,32.6649979 L70.9351613,24.500186 C64.8992581,18.8485716 57.088998,15.7179774 48.7913911,15.6464008 C30.721621,15.4903405 15.4900786,30.1136653 15.6463347,48.7832166 C15.7945726,66.4937204 30.1529194,81.3548514 48.5,81.3548514 C56.5429819,81.3548514 64.1445746,78.4843578 70.1351069,73.227979 C71.0626694,72.4142357 72.463498,72.4637135 73.3361069,73.3361261 L81.0925867,81.0925996 C82.045377,82.0453892 81.998246,83.5987569 80.9983246,84.5018731 C72.398375,92.2698849 61.0016573,97 48.5,97 C21.7143105,97 0,75.2859027 0,48.5004306 C0,21.7454664 21.833996,-0.0478344144 48.5889819,0 Z",id:"Path"})))))}var Lt,Nt,Pt=r.forwardRef(Ht),zt=(c.p,["title","titleId"]);function Mt(){return Mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e},Mt.apply(this,arguments)}function Ut(e,t){if(null==e)return{};var c,n,a=function(e,t){if(null==e)return{};var c,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||(a[c]=e[c]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(a[c]=e[c])}return a}function qt(e,t){var c=e.title,n=e.titleId,a=Ut(e,zt);return r.createElement("svg",Mt({width:"97px",height:"91px",viewBox:"0 0 97 91",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":n},a),void 0===c?r.createElement("title",{id:n},"loading"):c?r.createElement("title",{id:n},c):null,Lt||(Lt=r.createElement("desc",null,"Created with Sketch.")),Nt||(Nt=r.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"loading",transform:"translate(46.453398, 49.194133) scale(1, -1) rotate(73.000000) translate(-46.453398, -49.194133) translate(4.953398, 0.694133)",fill:"#BDBDBD",fillRule:"nonzero"},r.createElement("path",{d:"M48.5889819,-0.00046772224 C61.5488468,0.0233510116 73.3155726,5.13031863 82.0029395,13.4324167 L70.9351613,24.500186 C64.8992581,18.8485716 57.088998,15.7179774 48.7913911,15.6464008 C30.721621,15.4903405 15.4900786,30.1136653 15.6463347,48.7832166 C15.7945726,66.4937204 30.1529194,81.3548514 48.5,81.3548514 C56.5429819,81.3548514 64.1445746,78.4843578 70.1351069,73.227979 C71.0626694,72.4142357 72.463498,72.4637135 73.3361069,73.3361261 L81.0925867,81.0925996 C82.045377,82.0453892 81.998246,83.5987569 80.9983246,84.5018731 C72.398375,92.2698849 61.0016573,97 48.5,97 C21.7143105,97 0,75.2859027 0,48.5004306 C0,21.7454664 21.833996,-0.0478344144 48.5889819,-0.00046772224 Z",id:"Path"})))))}var Wt,Tt,Gt,Yt,Vt,Jt,$t,Xt,Qt,Kt,Zt,_t=r.forwardRef(qt),ec=(c.p,st.a.div(Wt||(Wt=Object(lt.a)(["\n  background-color: #ededed;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),st.a.div(Tt||(Tt=Object(lt.a)(["\n  position: relative;\n  // min-width: 360px;\n  box-shadow: 0 1px 3px 0 #999999;\n  background-color: #f9f9f9;\n  box-sizing: border-box;\n  padding: 30px 25px;\n"])))),tc=st.a.div(Gt||(Gt=Object(lt.a)(["\n  font-size: 28px;\n  color: #212121;\n  margin-bottom: 20px;\n"]))),cc=st.a.div(Yt||(Yt=Object(lt.a)(["\n  font-size: 16px;\n  color: #828282;\n  margin-bottom: 30px;\n"]))),nc=st.a.div(Vt||(Vt=Object(lt.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 30px;\n"]))),ac=st.a.div(Jt||(Jt=Object(lt.a)(["\n  color: #757575;\n  font-size: 96px;\n  font-weight: 300;\n  display: flex;\n"]))),rc=st.a.div($t||($t=Object(lt.a)(["\n  font-weight: normal;\n  font-size: 42px;\n"]))),ic=st.a.div(Xt||(Xt=Object(lt.a)(["\n  display: flex;\n  align-items: center;\n  font-size: 16x;\n  font-weight: 300;\n  color: #828282;\n  margin-bottom: 20px;\n\n  svg {\n    width: 25px;\n    height: auto;\n    margin-right: 30px;\n  }\n"]))),oc=st.a.div(Qt||(Qt=Object(lt.a)(["\n  display: flex;\n  align-items: center;\n  font-size: 16x;\n  font-weight: 300;\n  color: #828282;\n\n  svg {\n    width: 25px;\n    height: auto;\n    margin-right: 30px;\n  }\n"]))),lc=Object(st.a)(xt)(Kt||(Kt=Object(lt.a)(["\n  flex-basis: 30%;\n"]))),sc=st.a.div(Zt||(Zt=Object(lt.a)(["\n  position: absolute;\n  right: 15px;\n  bottom: 15px;\n  font-size: 12px;\n  display: inline-flex;\n  align-items: flex-end;\n  color: #828282;\n\n  svg {\n    margin-left: 10px;\n    width: 15px;\n    height: 15px;\n    cursor: pointer;\n    /* STEP 2\uff1a\u4f7f\u7528 rotate \u52d5\u756b\u6548\u679c\u5728 svg \u5716\u793a\u4e0a */\n    animation: rotate infinite 1.5s linear;\n    animation-duration: ",";\n  }\n\n  /* STEP 1\uff1a\u5b9a\u7fa9\u65cb\u8f49\u7684\u52d5\u756b\u6548\u679c\uff0c\u4e26\u53d6\u540d\u70ba rotate */\n  @keyframes rotate {\n    from {\n      transform: rotate(360deg);\n    }\n    to {\n      transform: rotate(0deg);\n    }\n  }\n"])),(function(e){return e.isLoading?"1.5s":"0s"}));function jc(){var e=Object(r.useState)({TEMP:"",WDSD:"",observationTime:(new Date).toLocaleTimeString()}),t=Object(s.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(!1),i=Object(s.a)(a,2),j=i[0],d=i[1],b=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,u();case 3:t=e.sent,n(Object(S.a)(Object(S.a)({},t),{},{observationTime:(new Date).toLocaleTimeString()})),d(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){b()}),[]);var u=function(){return fetch("https://opendata.cwb.gov.tw/api/v1/rest/datastore/O-A0003-001?Authorization=".concat("CWB-9428EFB2-0CCE-4FA9-89FB-82EBBBB1415E","&locationName=").concat("\u81fa\u5317")).then((function(e){return e.json()})).then((function(e){return e.records.location[0].weatherElement.reduce((function(e,t){return["WDSD","TEMP","HUMD"].includes(t.elementName)&&(e[t.elementName]=t.elementValue),e}),{})}))};return Object(m.jsx)("div",{children:Object(m.jsxs)(ec,{children:[Object(m.jsx)(tc,{children:"\u53f0\u5357\u5e02"}),Object(m.jsx)(cc,{children:"\u591a\u96f2\u6642\u6674"}),Object(m.jsxs)(nc,{children:[Object(m.jsxs)(ac,{children:[!j&&Math.round(c.TEMP)," ",!j&&Object(m.jsx)(rc,{children:"\xb0C"})]}),Object(m.jsx)(lc,{})]}),Object(m.jsxs)(ic,{children:[Object(m.jsx)(yt,{})," ",c.WDSD," m/h"]}),Object(m.jsxs)(oc,{children:[Object(m.jsx)(Rt,{})," 48%"]}),Object(m.jsxs)(sc,{onClick:b,isLoading:j,children:["\u6700\u5f8c\u89c0\u6e2c\u6642\u9593\uff1a",c.observationTime," ",j?Object(m.jsx)(_t,{}):Object(m.jsx)(Pt,{})]})]})})}function dc(){var e=Object(r.useState)(),t=Object(s.a)(e,2),c=t[0],n=t[1];return Object(m.jsx)("div",{children:Object(m.jsxs)(D.a,{celled:!0,unstackable:!0,children:[Object(m.jsx)(D.a.Header,{children:Object(m.jsx)(D.a.Row,{children:Array.from({length:7},(function(e,t){return Object(m.jsxs)(D.a.HeaderCell,{children:["\u661f\u671f",t<6?t+1:"\u65e5"]},t)}))})}),Object(m.jsx)(D.a.Body,{children:Array.from({length:5},(function(e,t){return Object(m.jsx)(D.a.Row,{children:Array.from({length:7},(function(e,a){return Object(m.jsx)(D.a.Cell,{onClick:function(){return n(7*t+a+1)},active:c===7*t+a+1,children:7*t+a+1<32?7*t+a+1:""},a)}))},t)}))}),Object(m.jsx)(D.a.Footer,{})]})})}function bc(e){var t=e.cate,c=(e.setCate,e.placeholder),n=e.onChange,a=e.label,i=e.width,o=e.name,l=v().currentUser,j=Object(r.useState)([]),d=Object(s.a)(j,2),b=d[0],u=d[1],O=Object(r.useState)([]),h=Object(s.a)(O,2),f=(h[0],h[1],Object(r.useState)("")),p=Object(s.a)(f,2);p[0],p[1];return Object(r.useEffect)((function(){x.collection("cates").where("user","==",l.email).orderBy("prior").get().then((function(e){var t=e.docs.map((function(e){return{text:e.data().name,value:e.data().name,key:e.id}}));u(t)}))}),[]),Object(m.jsx)(I.a.Select,{value:t,name:o,label:a,placeholder:c,fluid:!0,width:i,options:b,onChange:n})}function uc(e){var t=e.cateQuery,c=e.searchText,n=e.setSearchText,a=e.setRows,r=e.rowsCopy;return Object(m.jsx)("div",{children:Object(m.jsx)(I.a,{unstackable:!0,children:Object(m.jsxs)(I.a.Group,{children:[Object(m.jsx)(bc,{width:8,placeholder:"\u985e\u5225",onChange:t}),Object(m.jsx)(I.a.Input,{width:8,fluid:!0,value:c,placeholder:"\u9078\u985e\u5225\u5f8c,\u5728\u6b64\u95dc\u9375\u5b57\u641c\u5c0b...",onChange:function(e){n(e.target.value),a(r.filter((function(t){return t.title.includes(e.target.value)})))}})]})})})}function Oc(e){var t=e.rows,c=e.onDataListRowClick;return Object(m.jsx)("div",{children:t.map((function(e){return Object(m.jsxs)(D.a,{unstackable:!0,children:[e.flag&&Object(m.jsx)(D.a.Header,{children:Object(m.jsx)(D.a.Row,{children:Object(m.jsx)(D.a.HeaderCell,{textAlign:"center",colSpan:"2",children:e.s1})})}),Object(m.jsx)(D.a.Body,{children:Object(m.jsxs)(D.a.Row,{onClick:function(){return c(e)},children:[Object(m.jsxs)(D.a.Cell,{children:[Object(m.jsx)($.a,{as:"h4",children:e.title}),Object(m.jsx)("span",{children:e.date}),e.account&&Object(m.jsx)(X.a,{children:e.account.name})]}),Object(m.jsxs)(D.a.Cell,{textAlign:"right",children:[e.income?Object(m.jsx)(X.a,{color:"teal",circular:!0,children:"\u5b58"}):Object(m.jsx)(X.a,{color:"orange",circular:!0,children:"\u63d0"}),Object(m.jsx)("br",{}),"$ ",e.income?e.income:e.expense+""]})]})})]},e.id)}))})}function hc(e){var t=e.account,c=e.name,n=e.onChange,a=e.label,i=v().currentUser,o=Object(r.useState)([]),l=Object(s.a)(o,2),j=l[0],d=l[1];return Object(r.useEffect)((function(){x.collection("accounts").where("user","==",i.email).orderBy("prior").get().then((function(e){var t=e.docs.map((function(e){return{text:e.data().name,value:e.data().name,key:e.id}}));d(t)}))}),[]),Object(m.jsx)(I.a.Select,{label:a,value:t,name:c,fluid:!0,options:j,onChange:n})}function xc(e){var t=e.editedRow,c=e.setEditedRow,n=function(e){c(Object(S.a)(Object(S.a)({},t),{},Object(w.a)({},e.target.name,e.target.value)))};return Object(m.jsx)("div",{children:Object(m.jsxs)(I.a,{unstackable:!0,children:[Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"\u65e5\u671f"}),Object(m.jsx)("input",{name:"date",type:"date",placeholder:"",value:t.date,onChange:n})]}),Object(m.jsx)(hc,{label:"\u5e33\u6236",name:"account",account:null===t||void 0===t?void 0:t.account.name,onChange:function(e,n){c(Object(S.a)(Object(S.a)({},t),{},{account:Object(S.a)(Object(S.a)({},t.account),{},{name:n.value})}))}}),Object(m.jsx)(bc,{name:"cate",cate:null===t||void 0===t?void 0:t.cate,label:"\u985e\u5225",onChange:function(e,n){c(Object(S.a)(Object(S.a)({},t),{},Object(w.a)({},n.name,n.value)))}}),Object(m.jsx)(I.a.Input,{name:"title",onChange:n,value:null===t||void 0===t?void 0:t.title,label:"\u9805\u76ee"})]})})}function fc(){var e=v().currentUser,t=Object(r.useState)([]),c=Object(s.a)(t,2),n=c[0],a=c[1],i=Object(r.useState)({cate:"",title:"",income:"",expense:""}),o=Object(s.a)(i,2),l=o[0],j=(o[1],Object(r.useState)(l)),d=Object(s.a)(j,2),b=d[0],u=d[1],O=Object(r.useState)(!1),h=Object(s.a)(O,2),f=h[0],p=h[1],g=Object(r.useState)([]),C=Object(s.a)(g,2),y=C[0],w=C[1],k=Object(r.useState)(""),I=Object(s.a)(k,2),R=I[0],A=I[1];Object(r.useEffect)((function(){}),[]);return Object(m.jsxs)("div",{children:[Object(m.jsx)(uc,{cateQuery:function(t,c){x.collection("balances").orderBy("date","desc").where("user","==",e.email).where("cate","==",c.value).get().then((function(e){var t=e.docs.map((function(e){return Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id})})).slice();t.map((function(e,c){var n=t[c].date.substring(0,7),a="";c>0&&(a=t[c-1].date.substring(0,7));var r=!1;n!=a&&(r=!0);var i=Object(S.a)(Object(S.a)({},e),{},{s1:n,s2:a,flag:r});t[c]=i})),a(t),w(t)}))},searchText:R,setSearchText:A,setRows:a,rowsCopy:y}),Object(m.jsx)("br",{}),Object(m.jsx)(Oc,{rows:n,onDataListRowClick:function(e){p(!0),console.log(e),u(Object(S.a)(Object(S.a)({},l),e))}}),Object(m.jsxs)(E.a,{open:f,closeIcon:!0,onClose:function(){p(!1)},children:[Object(m.jsx)(E.a.Header,{children:"\u7de8\u8f2f"}),Object(m.jsx)(E.a.Content,{children:Object(m.jsx)(xc,{editedRow:b,setEditedRow:u})}),Object(m.jsx)(E.a.Actions,{children:Object(m.jsx)(F.a,{color:"teal",onClick:function(){console.log(b);var e=b.account.name;x.collection("balances").doc(b.id).update(Object(S.a)(Object(S.a)({},b),{},{account:Object(S.a)(Object(S.a)({},b.account),{},{name:e})})).then((function(){p(!1)}))},children:"\u5132\u5b58"})})]})]})}function mc(e){var t=e.rows,c=e.schema;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(D.a,{unstackable:!0,children:[Object(m.jsx)(D.a.Header,{children:Object(m.jsxs)(D.a.Row,{children:[c.map((function(e,t){return Object(m.jsx)(D.a.HeaderCell,{children:e.text},t)})),Object(m.jsx)(D.a.HeaderCell,{children:"#"})]})}),Object(m.jsx)(D.a.Body,{children:t.map((function(e,t){return Object(m.jsxs)("tr",{children:[c.map((function(t,c){return Object(m.jsx)("td",{children:e[t.name]},c)})),Object(m.jsx)("td",{children:Object(m.jsx)(u.b,{to:"/cates-note/edit/".concat(e.id),children:"Edit"})})]},t)}))})]})})}function pc(){var e=v().currentUser,t=Object(r.useState)([]),c=Object(s.a)(t,2),n=c[0],a=c[1];return Object(r.useEffect)((function(){x.collection("catesNote").where("user","==",e.email).get().then((function(e){var t=e.docs.map((function(e){return Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id})}));a(t)}))}),[]),Object(m.jsxs)("div",{children:[Object(m.jsx)(u.b,{to:"/cates-note/insert",children:"\u65b0\u589e"}),Object(m.jsx)(mc,{rows:n,schema:[{name:"name",text:"\u540d\u7a31",type:"text"},{name:"prior",text:"\u9806\u5e8f",type:"number"}]})]})}function vc(){var e=v().currentUser,t=Object(C.g)(),c=Object(C.h)().id,n=x.collection("catesNote"),a=Object(r.useState)({name:"",prior:""}),i=Object(s.a)(a,2),o=i[0],l=i[1],j=Object(r.useState)(!1),d=Object(s.a)(j,2),b=d[0],u=d[1];Object(r.useEffect)((function(){n.doc(c).get().then((function(e){e.exists?(l(e.data()),console.log("Document data:",e.data())):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))}),[]);var O=function(e){l(Object(S.a)(Object(S.a)({},o),{},Object(w.a)({},e.target.name,e.target.value)))};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(I.a,{onSubmit:function(){(u(!0),c)?n.doc(c).update(Object(S.a)(Object(S.a)({},o),{},{prior:Number(o.prior)})).then((function(){u(!1),t.push("/cates-note")})):n.add(Object(S.a)(Object(S.a)({},o),{},{prior:Number(o.prior),user:e.email})).then((function(){u(!1),t.push("/cates-note")}))},children:[Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"\u540d\u7a31"}),Object(m.jsx)("input",{name:"name",placeholder:"",value:o.name,onChange:O})]}),Object(m.jsxs)(I.a.Field,{children:[Object(m.jsx)("label",{children:"\u9806\u5e8f"}),Object(m.jsx)("input",{type:"number",name:"prior",placeholder:"",value:o.prior,onChange:O})]}),Object(m.jsx)(F.a,{type:"submit",primary:!0,loading:b,children:"Save"})]})})}function gc(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),c=t[0],n=t[1];Object(r.useEffect)((function(){x.collection("accounts").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));console.log(t),n(t)}))}),[]);var a=[0,0,0,0,0,0,1,1,1,1];return Object(m.jsxs)("div",{children:[c[0].balance,Object(m.jsx)(R.a,{children:"\u6709\u4e8c\u500b\u5bcc\u7fc1,\u60f3\u6bd4\u8f03\u8ab0\u7684\u8ca1\u5bcc\u591a,\u53c8\u4e0d\u60f3\u8b93\u5c0d\u65b9\u77e5\u9053\u81ea\u5df1\u7684\u771f\u5be6\u8ca1\u7522\u6578\u5b57"}),"\u5047\u8a2d A\u548cB\u7684\u8ca1\u5bcc\u662f\u4ecb\u65bc1~10",Object(m.jsx)("br",{}),"A\u5148\u6e96\u509910\u500b\u7bb1\u5b50 \u5047\u8a2d A \u7684\u8ca1\u5bcc\u662f 7 ,\u5c31\u5728\u524d\u97626\u500b\u7bb1\u5b50\u586b\u51650,\u4e4b\u5f8c\u7bb1\u5b50\u90fd\u586b\u51651,\u5982\u4e0b\u6240\u793a",Object(m.jsx)(te.a,{}),a.map((function(e){return Object(m.jsx)(X.a,{basic:!0,color:"pink",size:"large",children:e})})),Object(m.jsx)(te.a,{}),"\u63a5\u4e0b\u4f86\u7531B\u9078\u64c7\u5c0d\u61c9\u81ea\u5df1\u8ca1\u5bcc\u6578\u5b57\u7684\u7bb1\u5b50,\u5047\u8a2d\u662f4,\u5c31\u6703\u9078\u5230\u7531\u5de6\u7b97\u4f86\u7b2c4\u500b\u7bb1\u5b50",Object(m.jsx)(te.a,{}),a.map((function(e,t){return 3==t?Object(m.jsx)(X.a,{color:"pink",size:"large",children:e}):Object(m.jsx)(X.a,{basic:!0,color:"pink",size:"large",children:e})})),Object(m.jsx)(te.a,{}),"\u7136\u5f8c\u5c07\u5176\u4ed6\u7bb1\u5b50\u4e1f\u6389,\u53ea\u7559\u4e0b\u9019\u500b\u7bb1\u5b50",Object(m.jsx)(X.a,{color:"pink",size:"large",children:"?"}),Object(m.jsx)("br",{}),Object(m.jsx)(te.a,{}),"\u63a5\u4e0b\u4f86\u7531A\u5c07\u9019\u500b\u7bb1\u5b50\u6253\u958b,\u770b\u5230 0 \u7684\u8a71,\u4ee3\u8868B\u8ca1\u5bcc\u5c0f\u65bcA",Object(m.jsx)("br",{}),"\u770b\u5230 1 \u7684\u8a71,\u4ee3\u8868 B \u8ca1\u5bcc\u5927\u65bc\u7b49\u65bc A",Object(m.jsx)(R.a,{children:"\u56e0\u70ba A \u4e0d\u77e5\u9053 B \u9078\u4e86\u90a3\u500b\u7bb1\u5b50, B\u4e5f\u4e0d\u77e5\u9053\u5f9e\u90a3\u500b\u7bb1\u5b50\u958b\u59cb\u7531 0 \u8b8a 1,\u6240\u4ee5\u5c31\u53ef\u4ee5\u5b8c\u6210\u96f6\u77e5\u8b58\u8b49\u660e"})]})}function Cc(){v().currentUser;return Object(m.jsxs)(C.d,{children:[Object(m.jsx)(C.b,{path:"/trans",exact:!0,component:se}),Object(m.jsx)(C.b,{path:"/demo",exact:!0,component:gc}),Object(m.jsx)(C.b,{path:"/prod/:id",exact:!0,component:Be}),Object(m.jsx)(C.b,{path:"/cart",exact:!0,component:Ne}),Object(m.jsx)(C.b,{path:"/food",exact:!0,component:Pe}),Object(m.jsx)(C.b,{path:"/dashboard",exact:!0,component:Ae}),Object(m.jsx)(C.b,{path:"/dashboard/query",exact:!0,component:fc}),Object(m.jsx)(C.b,{path:"/calendar",exact:!0,component:dc}),Object(m.jsx)(C.b,{path:"/weather",exact:!0,component:jc}),Object(m.jsx)(C.b,{path:"/mortgages",exact:!0,component:at}),Object(m.jsx)(C.b,{path:"/scores",exact:!0,component:Ve}),Object(m.jsx)(C.b,{path:"/school",exact:!0,component:et}),Object(m.jsx)(C.b,{path:"/balances2",exact:!0,component:ze}),Object(m.jsx)(C.b,{path:"/accounts",children:Object(m.jsx)(N,{})}),Object(m.jsx)(C.b,{path:"/cates-note",exact:!0,component:pc}),Object(m.jsx)(C.b,{path:"/cates-note/insert",exact:!0,component:vc}),Object(m.jsx)(C.b,{path:"/cates-note/edit/:id",exact:!0,component:vc}),Object(m.jsx)(C.b,{path:"/emp-basic",exact:!0,component:Me}),Object(m.jsx)(C.b,{path:"/cates",exact:!0,component:z}),Object(m.jsx)(C.b,{path:"/cates/edit/:id",exact:!0,component:ne}),Object(m.jsx)(C.b,{path:"/cates/insert",exact:!0,component:ne}),Object(m.jsx)(C.b,{path:"/tictactoe",component:Y}),Object(m.jsx)(Ie,{path:"/balances",exact:!0,component:ce}),Object(m.jsx)(Ie,{path:"/stocks",component:ie}),Object(m.jsx)(C.b,{path:"/books",component:fe}),Object(m.jsx)(C.b,{path:"/login",exact:!0,component:ke}),Object(m.jsx)(C.b,{path:"/",exact:!0,component:ce}),Object(m.jsx)(Ie,{path:"/dashboard",exact:!0,component:Ae}),Object(m.jsx)(C.b,{path:"/contacts",exact:!0,component:ge}),Object(m.jsx)(C.b,{path:"/contacts/add",exact:!0,component:ye}),Object(m.jsx)(C.b,{path:"/contacts/view/:contactId",exact:!0,component:Ce}),Object(m.jsx)(C.b,{path:"/contacts/edit/:contactId",exact:!0,component:ye})]})}var yc=c(247);function wc(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(g,{children:Object(m.jsxs)(u.a,{children:[Object(m.jsx)(y,{}),Object(m.jsx)(yc.a,{children:Object(m.jsx)(Cc,{})})]})})})}c(229);var kc=document.getElementById("root");a.a.render(Object(m.jsx)(wc,{}),kc)}},[[230,1,2]]]);
//# sourceMappingURL=main.437f7ccc.chunk.js.map